module.exports=function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,t,i){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=74)}([function(e,t){e.exports=require("@angular/core")},function(e,t){e.exports=require("angular2-universal")},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(14));i.n(r);i.d(t,"a",function(){return c});var o=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(){this.headerMessage=new r.Subject,this.authData=new r.Subject,this.activeTab=new r.Subject,this.loadingStatus=new r.Subject,a.isBrowser&&(this.getMessage$=this.headerMessage.asObservable(),this.getPersonalMenu$=this.authData.asObservable(),this.getActiveTab$=this.activeTab.asObservable(),this.getLoadingStatus$=this.loadingStatus.asObservable())}return e.prototype.updateMessage=function(e){this.headerMessage.next(e)},e.prototype.updatePersonalMenu=function(e){this.authData.next(e)},e.prototype.updateActiveTab=function(e){this.activeTab.next(e)},e.prototype.updateLoadingStatus=function(e){this.loadingStatus.next(e)},e=o([i.i(n.Injectable)(),s("design:paramtypes",[])],e)}()},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(1));i.n(n);i.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.sendTiming=function(e){n.isBrowser&&ga("send","timing",e.category,e.timingVar,e.timingValue)},e.prototype.sendEvent=function(e){n.isBrowser&&ga("send","event",e.category,e.action,e.label)},e=r([i.i(a.Injectable)(),o("design:paramtypes",[])],e)}()},function(e,t){e.exports=require("@angular/router")},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(14));i.n(r);i.d(t,"a",function(){return c});var o=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(){this.activePopup=new r.Subject,this.popupResponse=new r.Subject,a.isBrowser&&(this.getActivePopup$=this.activePopup.asObservable(),this.getPopupResponse$=this.popupResponse.asObservable())}return e.prototype.activate=function(e){this.activePopup.next(e)},e.prototype.actionComplete=function(e){this.popupResponse.next(e)},e=o([i.i(n.Injectable)(),s("design:paramtypes",[])],e)}()},function(e,t){e.exports=require("@angular/http")},function(e,t){e.exports=require("rxjs/add/operator/toPromise")},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(6)),r=(i.n(n),i(7));i.n(r);i.d(t,"a",function(){return c});var o=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.http=e,this.api="https://api.starbook.co/v0.9.1/"}return e.prototype.sendServices=function(e){this.servicesObject=e},e.prototype.getServicesObject=function(){return this.servicesObject},e.prototype.getCategories=function(){var e="categories";return this.http.get(this.api+e).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getServices=function(){return this.http.get(this.api+"featured").toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.search=function(e){return this.http.get(this.api+"search?title="+e).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getServiceById=function(e){return this.http.get(this.api+"services/"+e).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.handleError=function(e){return Promise.reject(e.message||e)},e=o([i.i(a.Injectable)(),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.Http&&n.Http)&&t||Object])],e);var t}()},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(6)),o=(i.n(r),i(14)),s=(i.n(o),i(7));i.n(s);i.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this.http=e,this.orderEvent=new o.Subject,this.api="https://api.starbook.co/v0.9.1/",this.googleApi="https://maps.googleapis.com/maps/api/geocode/json",a.isBrowser&&(this.getOrderEvent$=this.orderEvent.asObservable())}return e.prototype.makeEvent=function(e){this.orderEvent.next(e)},e.prototype._makeHeaders=function(){var e;return a.isBrowser&&null!==localStorage.getItem("auth")?(this.auth=JSON.parse(localStorage.getItem("auth")),e=new r.Headers({Token:this.auth.token})):(this.auth=!1,e=new r.Headers({Token:""})),{headers:e}},e.prototype.saveOrder=function(e){return this.http.post(this.api+"orders",{service_id:e.service_id,description:e.delivery_description,details:e.delivery_details,date:e.delivery_date,address:{street:e.street,street_number:e.street_number,city:e.city,postal_code:e.postal_code,province:e.province,country:e.country,country_code:e.country_code},payment:{amount:e.payment.amount,currency:e.payment.currency}},this._makeHeaders()).toPromise().then(function(e){return e}).catch(this.handleError)},e.prototype.getAddresses=function(e){var t=new r.URLSearchParams,i=[];return t.set("address",e),t.set("language","it"),t.set("key","AIzaSyCLc5etDSrqieAn4lPCsvFDpkM3-F7-c5M"),this.http.get(this.googleApi,{search:t}).toPromise().then(function(e){var t=e.json().results;return t.forEach(function(e){var t={street:"",street_number:null,city:"",postal_code:null,province:"",country:"",country_code:"",selected:!1,isFull:!1,formattedAddress:""};e.address_components.forEach(function(e){switch(e.types[0]){case"street_number":t.street_number=e.long_name;break;case"route":t.street=e.long_name;break;case"locality":t.city=e.long_name;break;case"administrative_area_level_2":t.province=e.long_name;break;case"country":t.country=e.long_name,t.country_code=e.short_name;break;case"postal_code":t.postal_code=e.long_name}}),t.formattedAddress=e.formatted_address,"street_address"===e.types[0]&&(t.isFull=!0),"IT"===t.country_code&&i.push(t)}),i}).catch(this.handleError)},e.prototype.handleError=function(e){return Promise.reject(e)},e=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.Http&&r.Http)&&t||Object])],e);var t}()},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(6)),o=(i.n(r),i(7)),s=(i.n(o),i(2));i.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.http=e,this.navigationService=t,this.api="https://api.starbook.co/v0.9.1/",a.isBrowser&&null!==localStorage.getItem("auth")?this.auth=JSON.parse(localStorage.getItem("auth")):this.auth=!1}return e.prototype.authInit=function(){return this.auth},e.prototype.login=function(e,t){var i=this;return this.http.post(this.api+"login",{email:e,password:t}).toPromise().then(function(e){var t=e.json();if(t.success===!0){var n={_id:t.result._id,email:t.result.email,phone_number:t.result.phone_number,account_types:t.result.account_types,profile:t.result.profile,company:t.result.company,address:t.result.address,services:t.result.services,locations:t.result.locations,payment:t.result.payment,created_at:t.result.created_at,updated_at:t.result.updated_at,token:t.token};return a.isBrowser&&localStorage.setItem("auth",JSON.stringify(n)),i.navigationService.updatePersonalMenu(t.result),n}i.handleError(t.message)}).catch(this.handleError)},e.prototype.signup=function(e,t,i,n){var r=this;return this.http.post(this.api+"signup",{fullname:e,phone_number:t,email:i,password:n}).toPromise().then(function(e){var t=e.json();if(t.success===!0){var i={_id:t.result._id,email:t.result.email,phone_number:"",account_types:t.result.account_types,profile:t.result.profile,company:t.result.company,address:t.result.address,services:t.result.services,locations:t.result.locations,payment:t.result.payment,created_at:t.result.created_at,updated_at:t.result.updated_at,token:t.token};return a.isBrowser&&localStorage.setItem("auth",JSON.stringify(i)),t.result}r.handleError(t.message)}).catch(this.handleError)},e.prototype.recovery=function(e){var t=this;return this.http.post(this.api+"password_recovery",{email:e}).toPromise().then(function(e){var i=e.json();return i.success===!0||void t.handleError(i.message)}).catch(this.handleError)},e.prototype.getUserData=function(){return this.auth},e.prototype.handleError=function(e){return Promise.reject(e.status||e)},e=c([i.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.Http&&r.Http)&&t||Object,"function"==typeof(o="undefined"!=typeof s.a&&s.a)&&o||Object])],e);var t,o}()},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(6)),o=(i.n(r),i(7));i.n(o);i.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e){this.http=e,this.api="https://api.starbook.co/v0.9.1/"}return e.prototype._makeHeaders=function(){var e;return a.isBrowser&&null!==localStorage.getItem("auth")?(this.auth=JSON.parse(localStorage.getItem("auth")),e=new r.Headers({Token:this.auth.token})):(this.auth=!1,e=new r.Headers({Token:""})),e},e.prototype.getOrders=function(e){var t=new r.URLSearchParams;return e.forEach(function(e){t.set(e.name,e.value)}),this.http.get(this.api+"orders",{headers:this._makeHeaders(),search:t}).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getCategories=function(){return["Idraulico","Elettricista","Fabbro","Spazzacamino","Antennista","Pulizie","Edilizia","Giardinaggio","Informatica"]},e.prototype.modifyOrder=function(e,t){return this.http.put(this.api+"orders/"+e,{action:t},{headers:this._makeHeaders()}).toPromise().then(function(e){return!0}).catch(this.handleError)},e.prototype.addPrice=function(e,t,i){return this.http.put(this.api+"orders/"+e,{action:t,payment:{amount:i,currency:"eur"}},{headers:this._makeHeaders()}).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.handleError=function(e){return Promise.reject(e.status||e)},e=s([i.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.Http&&r.Http)&&t||Object])],e);var t}()},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(6)),o=(i.n(r),i(7));i.n(o);i.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e){this.http=e,this.api="https://api.starbook.co/v0.9.1/"}return e.prototype._makeHeaders=function(){var e;return a.isBrowser&&null!==localStorage.getItem("auth")?(this.auth=JSON.parse(localStorage.getItem("auth")),e=new r.Headers({Token:this.auth.token})):(this.auth=!1,e=new r.Headers({Token:""})),{headers:e}},e.prototype.getToken=function(e){return new Promise(function(t,i){window.Stripe.card.createToken({number:e.number,exp_month:e.exp_month,exp_year:e.exp_year,cvc:e.cvc,name:e.name,address_line1:e.address_line1,address_line2:e.address_line2,address_city:e.address_city,address_zip:e.address_zip,address_state:e.address_state,address_country:e.address_country},function(e,a){if(200===e){var n={token:a.id,data:a.card};t(n)}else i(e)})})},e.prototype.cardNumberValidate=function(e){return window.Stripe.card.validateCardNumber(e)},e.prototype.addNewCard=function(e){var t=this;return this.getToken(e).then(function(e){return t.http.post(t.api+"me/cards",{source:e.token},t._makeHeaders()).toPromise().then(function(e){return e.json()}).catch(t.handleError)}).catch(this.handleError)},e.prototype.selectCard=function(e){return this.http.post(this.api+"me/customers",{default_source:e},this._makeHeaders()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.deleteCard=function(e){return this.http.delete(this.api+"me/cards/"+e,this._makeHeaders()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.editCard=function(e,t){return this.http.post(this.api+"me/cards/"+e,t,this._makeHeaders()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getCards=function(){return this.http.get(this.api+"me/customers",this._makeHeaders()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.handleError=function(e){return Promise.reject(e)},e=s([i.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.Http&&r.Http)&&t||Object])],e);var t}()},function(e,t){e.exports=require("@angular/forms")},function(e,t){e.exports=require("rxjs/Subject")},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(8)),o=i(9),s=i(2),c=i(4),d=(i.n(c),i(3));i.d(t,"a",function(){return u});var l=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,i,a,n,r){this.homeService=e,this.navigationService=t,this.router=i,this.route=a,this.orderService=n,this.analyticsService=r,this.baseAmount={start:0,calculated:0},this.calculateResults={queueFirst:0,queueSecond:0,queueEnd:0},this.operands={queueFirst:[],queueSecond:[],queueEnd:[]},this.finalPrice=0,this.servicesCategoryList=[],this.isServicesView=!1,this.servicesData=[],this.activeServiceCategory=!1,this.activeServiceCategoryType=!1,this.orderData={service_id:"",price:{base_amount:0},order_options:{min_amount:0,payment_methods:[]},service:"",services:[],totalPrice:0},this.orderIsFull=!1,this.SWIPE_ACTION={LEFT:"swipeleft",RIGHT:"swiperight"},this.delta=-15,this.isLoading=!1}return e.prototype.renderPage=function(e){var t=this;this.navigationService.updateMessage(e.title),this.defaultServices=e,this.isServicesView=!0,this.servicesData=[{type:"content",image:e.image_url,description:e.description,options:[]}],this.orderData={service_id:e._id,price:e.price,order_options:e.order_options,service:e.title,services:[],totalPrice:e.price.base_amount},this.baseAmount.start=e.price.base_amount,this.baseAmount.calculated=e.price.base_amount;var i=1;e.forms.forEach(function(e){var a;a=e.title_1?e.title_1:e.title;var n={title:e.title,title_1:a,type:e.type,required:e.required,price_type:e.price_type,options:[]},r=0;e.options.forEach(function(t){var a;a=t.title_1?t.title_1:t.title;var o={formId:i,optionId:r,title:t.title,title_1:a,type:e.type,amount:t.amount};"input_type"in t&&(o.input_type=t.input_type,o.input_value=t.input_value,o.value_symbol=t.value_symbol),"selected"in t?o.selected=t.selected:o.selected=!1,n.options.push(o),r++}),t.servicesData.push(n),i++}),this.calculateOrder()},e.prototype.toggleService=function(e,t){var i=this,a=0;this.servicesData.forEach(function(n){if(n.title===e){var r=0;n.options.forEach(function(o){if(o.title===t){var s=o.selected;s&&n.required===!0?"RADIOBUTTON"===n.type?i.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"radiobutton"}):(i.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"checkbox"}),i.checkNotEmptyForm(o.formId,o.optionId)&&(i.servicesData[a].options[r].selected=!s)):s||n.required!==!0?("RADIOBUTTON"===n.type?(i.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"radiobutton"}),i.uncheckAllItems(e)):i.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"checkbox"}),i.servicesData[a].options[r].selected=!s):"RADIOBUTTON"===n.type?(i.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"radiobutton"}),i.uncheckAllItems(e),i.servicesData[a].options[r].selected=!s):(i.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"checkbox"}),i.servicesData[a].options[r].selected=!s)}r++})}a++}),this.calculateOrder()},e.prototype.checkNotEmptyForm=function(e,t){var i=!1;return this.servicesData[e].options.forEach(function(e){e.optionId!==t&&e.selected&&(i=!0)}),i},e.prototype.changeValue=function(e,t){var i=parseInt(this.servicesData[e].options[t].input_value);this.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"input"}),isNaN(i)||0===i?this.servicesData[e].options[t].input_value=0:this.servicesData[e].options[t].input_value=i,this.calculateOrder()},e.prototype.selectAllContent=function(e){e.target.select()},e.prototype.uncheckAllItems=function(e){var t=this,i=0;this.servicesData.forEach(function(a){if(a.title===e){var n=0;a.options.forEach(function(e){t.servicesData[i].options[n].selected=!1,n++})}i++})},e.prototype.queueWorker=function(){var e=this;this.baseAmount.calculated=this.baseAmount.start,this.operands={queueFirst:[],queueSecond:[],queueEnd:[]},this.finalPrice=0;var t=0;this.servicesData.forEach(function(i){var a=0;i.options.forEach(function(t){"input_type"in t&&0!=t.input_value&&("BASE_AMOUNT_PER_INPUT"===i.price_type&&0!==t.input_value&&e.operands.queueSecond.push({type:"BASE_AMOUNT_PER_INPUT",fieldType:i.type,cnt:t.input_value,amount:t.amount}),"AMOUNT_PER_INPUT"===i.price_type&&e.operands.queueEnd.push({type:"AMOUNT_PER_INPUT",fieldType:i.type,cnt:t.input_value,amount:t.amount})),"selected"in t&&t.selected&&("BASE_AMOUNT"===i.price_type&&(e.baseAmount.calculated=e.baseAmount.start+t.amount),"BASE_AMOUNT_INCREMENT"===i.price_type&&e.operands.queueFirst.push({type:"BASE_AMOUNT_INCREMENT",fieldType:i.type,cnt:0,amount:t.amount}),"AMOUNT"===i.price_type&&e.operands.queueEnd.push({type:"AMOUNT",fieldType:i.type,cnt:0,amount:t.amount})),a++}),t++}),this.operands.queueFirst.forEach(function(t){"BASE_AMOUNT_INCREMENT"===t.type&&(e.baseAmount.calculated+=t.amount,e.calculateResults.queueFirst=e.baseAmount.calculated)}),this.operands.queueSecond.forEach(function(t){"BASE_AMOUNT_PER_INPUT"===t.type&&(e.baseAmount.calculated=e.baseAmount.calculated*t.cnt,e.calculateResults.queueSecond=e.baseAmount.calculated)}),this.operands.queueEnd.forEach(function(t){"AMOUNT_PER_INPUT"===t.type&&(e.baseAmount.calculated=e.baseAmount.calculated+t.amount*t.cnt,e.calculateResults.queueEnd=e.baseAmount.calculated),"AMOUNT"===t.type&&(e.baseAmount.calculated=e.baseAmount.calculated+t.amount,e.calculateResults.queueEnd=e.baseAmount.calculated)})},e.prototype.calculateOrder=function(){var e=this;this.queueWorker(),this.orderData.services=[],this.orderData.totalPrice=this.baseAmount.calculated;var t=[],i=0;this.servicesData.forEach(function(a){var n=0;a.options.forEach(function(i){"RADIOBUTTON"===a.type?i.selected&&t.push({name:a.title,price_type:a.price_type,option:{name:i.title,price:i.amount}}):"CHECKBOX"===a.type?i.selected&&t.push({name:a.title,price_type:a.price_type,option:{name:i.title,price:i.amount}}):"INPUTTEXT"===a.type&&("BASE_AMOUNT_PER_INPUT"===a.price_type&&0!=i.input_value&&t.push({name:a.title,price_type:a.price_type,option:{name:i.input_value,price:i.input_value*e.calculateResults.queueFirst,symbol:i.value_symbol}}),"AMOUNT_PER_INPUT"===a.price_type&&0!=i.input_value&&t.push({name:a.title,price_type:a.price_type,option:{name:i.input_value,price:i.amount*i.input_value}})),n++}),i++}),t.forEach(function(t){t.name&&e.orderData.services.push(t)}),t.length>0?this.orderIsFull=!0:this.orderIsFull=!1},e.prototype.ngAfterViewInit=function(){if(this.isServicesView!==!1&&a.isBrowser){var e=document.querySelector(".masonry-container");this.masonry=new Masonry(e,{columnWidth:245,itemSelector:".services-block",gutter:18,originLeft:!0,originTop:!0})}},e.prototype.makeMasonry=function(){a.isBrowser&&this.masonry&&this.masonry.layout()},e.prototype.ngOnInit=function(){var e=this;this.route.params.subscribe(function(t){var i=t.id,n=e.homeService.getServicesObject();if(i)if(e.isServicesView=!0,n)e.renderPage(n),a.isBrowser&&setTimeout(function(){var e=document.querySelector(".masonry-container");this.masonry=new Masonry(e,{columnWidth:245,itemSelector:".services-block",gutter:18,originLeft:!0,originTop:!0})},1);else{e.isLoading=!0;var r=Date.now();e.homeService.getServiceById(i).then(function(t){e.analyticsService.sendTiming({category:"Get service by id",timingVar:"load",timingValue:Date.now()-r}),e.renderPage(t.result),a.isBrowser&&setTimeout(function(){var e=document.querySelector(".masonry-container");this.masonry=new Masonry(e,{columnWidth:245,itemSelector:".services-block",gutter:18,originLeft:!0,originTop:!0})},1),e.isLoading=!1}).catch(function(t){e.isLoading=!1,e.router.navigateByUrl("/")})}}),a.isBrowser&&(this.subscription=this.orderService.getOrderEvent$.subscribe(function(t){e.orderCreated(t)}))},e.prototype.ngOnDestroy=function(){},e.prototype.orderCreated=function(e){var t=this;this.servicesData.forEach(function(e){t.uncheckAllItems(e.title)}),this.renderPage(this.defaultServices)},e=l([i.i(n.Component)({selector:"app-home",template:i(40)}),p("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.a&&r.a)&&t||Object,"function"==typeof(u="undefined"!=typeof s.a&&s.a)&&u||Object,"function"==typeof(f="undefined"!=typeof c.Router&&c.Router)&&f||Object,"function"==typeof(v="undefined"!=typeof c.ActivatedRoute&&c.ActivatedRoute)&&v||Object,"function"==typeof(m="undefined"!=typeof o.a&&o.a)&&m||Object,"function"==typeof(g="undefined"!=typeof d.a&&d.a)&&g||Object])],e);var t,u,f,v,m,g}()},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(2)),r=i(11),o=i(5),s=i(3),c=i(1);i.n(c);i.d(t,"a",function(){return p});var d=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i,a){this.navigationService=e,this.ordersService=t,this.popupsService=i,this.analyticsService=a,this.selectTab=!1,this.taglines={"Richieste dei clienti":"Richieste dei clienti","I miei ordini":"I miei ordini",Archivio:"Archivio di tutti gli ordini"},this.tabs=[{name:"I miei ordini",selected:!1},{name:"Archivio",selected:!1}],this.categories=[],this.pageData=[],this.requestIsComplete=!1,this.isVendor=!1,this.emptyListTitle="",this.isLoading=!1,this.authData={}}return e.prototype.ngOnInit=function(){var e=this;if(c.isBrowser)if(null!==localStorage.getItem("auth")){var t=JSON.parse(localStorage.getItem("auth"));this.authData=t,t.account_types.forEach(function(t){"VENDOR"===t&&(e.isVendor=!0)}),this.isVendor?(this.tabs=[{name:"Richieste dei clienti",selected:!1},{name:"I miei ordini",selected:!1},{name:"Archivio",selected:!1}],this.renderPage("Richieste dei clienti")):this.renderPage("I miei ordini")}else this.renderPage("I miei ordini");else this.renderPage("I miei ordini");this.categories=this.ordersService.getCategories(),c.isBrowser&&(this.subscription=this.popupsService.getPopupResponse$.subscribe(function(t){var i=0;switch(t.type){case"confirmOrder":i=0,e.pageData.forEach(function(a){a._id===t.data.orderId&&(e.pageData[i].status=1),i++});break;case"cancelOrder":i=0,e.pageData.forEach(function(a){a._id===t.data.orderId&&(e.pageData[i].status=99),i++});break;case"reactivateOrder":i=0,e.pageData.forEach(function(a){a._id===t.data.orderId&&(e.pageData[i].status=0),i++});break;case"addPrice":0===t.data.isModified?e.renderPage(e.selectTab):(i=0,e.pageData.forEach(function(a){a._id===t.data.orderId&&e.pageData.splice(i,1),i++}));break;case"editPrice":i=0,e.pageData.forEach(function(a){a._id===t.data.orderId&&(e.pageData[i].status=2,e.pageData[i].payment.amount=t.data.orderPrice,e.pageData[i].payment.currency="eur"),i++});break;case"continueOrder":i=0,e.pageData.forEach(function(a){a._id===t.data.orderId&&e.pageData.splice(i,1),i++})}})),this.it={firstDayOfWeek:1,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},e.prototype.ngOnDestroy=function(){c.isBrowser&&this.subscription.unsubscribe()},e.prototype.renderPage=function(e){var t=this;this.requestIsComplete=!1,this.selectTab=e;var i=0;this.tabs.forEach(function(a){a.name===e?t.tabs[i].selected=!0:t.tabs[i].selected=!1,i++});var a=[];"Richieste dei clienti"===e&&(this.requestIsComplete=!1,this.emptyListTitle="Non ci sono ordini richiesti dai clienti per il momento",a=[],a.push({name:"order_type",value:"RECEIVED"})),"I miei ordini"===e&&(this.requestIsComplete=!1,this.emptyListTitle="Non ci sono ordini effettuati",a=[],a.push({name:"order_type",value:"REQUIRED"})),"Archivio"===e&&(this.requestIsComplete=!1,this.emptyListTitle="L'archivio degli ordini e vuota",a=[],a.push({name:"order_type",value:"ARCHIVE"})),this.isLoading=!0;var n=Date.now();this.ordersService.getOrders(a).then(function(e){t.analyticsService.sendTiming({category:"Get list of orders",timingVar:"load",timingValue:Date.now()-n}),t.isLoading=!1,t.requestIsComplete=!0,null!==e.result?t.pageData=e.result:t.pageData=[]}).catch(function(e){t.isLoading=!1}),c.isBrowser&&this.navigationService.updateMessage(this.taglines[e])},e.prototype.dateFormating=function(e){var t="";if("now"!==e){var i=e.substring(0,e.length-5);i=i.split("T");var a=i[0].split("-"),n=i[1].split(":");t=a[2]+" "+this.it.monthNames[a[1]-1]+" "+a[0]+" "+n[0]+":"+n[1]}else{var r=new Date,o=r.getDate(),s=1+r.getMonth(),c=r.getFullYear(),d=r.getHours(),l=r.getMinutes(),p=r.getSeconds();t+=c,t+=s>9?"-"+s:"-0"+s,t+=o>9?"-"+o:"-0"+o,t+=d>9?"T"+d:"T0"+d,t+=l>9?":"+l:":0"+l,t+=p>9?":"+p+".000Z":":0"+p+".000Z"}return t},e.prototype.dateCompare=function(e,t){var i=Date.parse(e),a=Date.parse(t);return i>a},e.prototype.itemsFormating=function(e){var t=[],i=e.split("||");return i.forEach(function(e){var i=e.split(":");i[0].length>0&&t.push({name:i[0],items:i[1]})}),t},e.prototype.confirmOrder=function(e){this.popupsService.activate({type:"confirmOrder",data:{orderId:e}})},e.prototype.cancelOrder=function(e){this.popupsService.activate({type:"cancelOrder",data:{orderId:e}})},e.prototype.reactivateOrder=function(e){this.popupsService.activate({type:"reactivateOrder",data:{orderId:e}})},e.prototype.completaOrder=function(e){this.popupsService.activate({type:"addPrice",data:{orderId:e}})},e.prototype.editOrder=function(e,t){this.popupsService.activate({type:"editPrice",data:{orderId:e,payment:t}})},e.prototype.continueOrder=function(e,t){this.popupsService.activate({type:"continueOrder",data:{orderId:e,payment:t,information:"120€ + 6.6€ = 126.6€"}})},e=d([i.i(a.Component)({selector:"app-orders",template:i(43)}),l("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.a&&n.a)&&t||Object,"function"==typeof(p="undefined"!=typeof r.a&&r.a)&&p||Object,"function"==typeof(u="undefined"!=typeof o.a&&o.a)&&u||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object])],e);var t,p,u,f}()},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(18)),r=i(4),o=(i.n(r),i(2)),s=i(5),c=i(12),d=i(3),l=i(1);i.n(l);i.d(t,"a",function(){return f});var p=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t,i,a,n,r,o){this.profileService=e,this.router=t,this.navigationService=i,this.route=a,this.popupsService=n,this.paymentService=r,this.analyticsService=o,this.selectTab=!1,this.SWIPE_ACTION={LEFT:"swipeleft",RIGHT:"swiperight"},this.delta=0,this.tabs=[{name:"Generali",selected:!1,url:"settings"},{name:"Metodo di Pagamento",selected:!1,url:"payment"},{name:"Condizioni d’utilizzo",selected:!1,url:"conditions"},{name:"Privacy Policy",selected:!1,url:"privacy"},{name:"Assistenza",selected:!1,url:"help"}],this.userData={fullname:"",
email:"",phone_number:"",street:"",city:"",postal_code:null,province:"",country:""},this.activePopup="",this.changePasswordError={currentPassword:!1,passwordConfirm:!1},this.changePasswordData={currentPassword:"",newPassword:"",passwordConfirm:""},this.formError=!1,this.cards=[],this.defaultCard="",this.isLoading=!1,this.isAuthenticated=!1}return e.prototype.ngOnInit=function(){var e=this;if(l.isBrowser)if(null!==localStorage.getItem("auth")){var t=JSON.parse(localStorage.getItem("auth"));this.userData.fullname=t.fullname,this.userData.email=t.email,this.isAuthenticated=!0}else this.isAuthenticated=!1,this.tabs=[{name:"Condizioni d’utilizzo",selected:!1,url:"conditions"},{name:"Privacy Policy",selected:!1,url:"privacy"},{name:"Assistenza",selected:!1,url:"help"}];else this.isAuthenticated=!1,this.tabs=[{name:"Condizioni d’utilizzo",selected:!1,url:"conditions"},{name:"Privacy Policy",selected:!1,url:"privacy"},{name:"Assistenza",selected:!1,url:"help"}];l.isBrowser&&(this.route.params.subscribe(function(t){if(e.selectTab=t.page,"payment"===t.page){e.navigationService.updateMessage("Metodo di pagamento"),e.isLoading=!0;var i=Date.now();e.paymentService.getCards().then(function(t){e.analyticsService.sendTiming({category:"Get list of cards",timingVar:"load",timingValue:Date.now()-i}),e.defaultCard=t.default_source,e.cards=[],t.sources.data.forEach(function(t){e.cards.push(t)}),e.isLoading=!1}).catch(function(t){e.isLoading=!1,404===t.status})}if("settings"===t.page){e.navigationService.updateMessage("Informazioni del mio account"),e.isLoading=!0;var a=Date.now();e.profileService.getProfile().then(function(t){e.analyticsService.sendTiming({category:"Get user profile",timingVar:"load",timingValue:Date.now()-a}),e.userData.fullname=t.result.profile.fullname,e.userData.email=t.result.email,e.userData.phone_number=t.result.phone_number,e.userData.street=t.result.address.street,e.userData.city=t.result.address.city,e.userData.postal_code=t.result.address.postal_code,e.userData.province=t.result.address.province,e.userData.country=t.result.address.country,e.isLoading=!1}).catch(function(t){e.isLoading=!1,t.json().message?e.popupsService.activate({type:"error",data:{title:"Errore",message:t.json().message}}):e.popupsService.activate({type:"error",data:{title:"Errore",message:"An error has occurred"}})})}"conditions"===t.page&&e.navigationService.updateMessage("Termini e condizioni d’utilizzo"),"privacy"===t.page&&e.navigationService.updateMessage("Privacy Policy"),"help"===t.page&&e.navigationService.updateMessage("Assistenza"),console.log(t.page)}),this.subscription=this.popupsService.getPopupResponse$.subscribe(function(t){switch(t.type){case"newCard":e.cards.push(t.data),e.isLoading=!1;break;case"newCardError":e.isLoading=!1;break;case"startNewCard":e.isLoading=!0;break;case"cardEdited":var i=0;e.cards.forEach(function(a){a.id===t.data.id&&(e.cards[i]=t.data),i++}),e.isLoading=!1;break;case"logout":l.isBrowser&&null!==localStorage.getItem("auth")&&localStorage.removeItem("auth"),e.navigationService.updatePersonalMenu(!1),e.router.navigate(["/"])}}))},e.prototype.updateProfile=function(){var e=this;this.isLoading=!0;var t=Date.now();return this.profileService.updateProfile(this.userData).then(function(i){if(e.analyticsService.sendTiming({category:"Update user profile",timingVar:"save",timingValue:Date.now()-t}),e.isLoading=!1,i.success){var a={};if(l.isBrowser&&null!==localStorage.getItem("auth")){var n=JSON.parse(localStorage.getItem("auth"));n.profile.fullname=e.userData.fullname,n.phone_number=e.userData.phone_number,n.address.street=e.userData.street,n.address.city=e.userData.city,n.address.postal_code=e.userData.postal_code,n.address.province=e.userData.province,n.address.country=e.userData.country,a=n,localStorage.setItem("auth",JSON.stringify(n))}e.navigationService.updatePersonalMenu(a),e.formError={title:"",message:"Hai aggiornato le tue informazioni con successo!",type:"success"}}}).catch(function(t){e.isLoading=!1,e.popupsService.activate({type:"error",data:{title:"Errore",message:t.json().message}})}),!1},e.prototype.renderPage=function(e){this.selectTab=e},e.prototype.getPopup=function(e){this.activePopup=e},e.prototype.closePopup=function(){this.activePopup=""},e.prototype.changePassword=function(e,t,i){return this.closePopup(),this.changePasswordData.currentPassword="",this.changePasswordData.newPassword="",this.changePasswordData.passwordConfirm="",!1},e.prototype.checkPassword=function(e,t){e===t?this.changePasswordError.passwordConfirm=!1:this.changePasswordError.passwordConfirm=!0},e.prototype.swipe=function(e,t){void 0===e&&(e=this.SWIPE_ACTION.RIGHT);for(var i=this.delta+t,a=0,n=document.querySelectorAll(".left-navigate > div > a"),r=0;r<n.length;r++){var o=n[r];a+=o.offsetWidth}var s=document.querySelector(".left-navigate").clientWidth,c=a-s;c>=0&&(c=-c,i>0?this.delta=0:i<c?e===this.SWIPE_ACTION.LEFT&&0!==c&&(this.delta=c):this.delta=i)},e.prototype.addNewCard=function(){this.popupsService.activate({type:"addCard"})},e.prototype.formatYear=function(e){var t=0,i="",a=e.toString().split("");return a.forEach(function(e){t>1&&(i+=e),t++}),i},e.prototype.formatCssClass=function(e){var t="";return"Visa"===e&&(t="visa"),"American Express"===e&&(t="amex"),"MasterCard"===e&&(t="mastercard"),t},e.prototype.selectCard=function(e){var t=this;this.isLoading=!0;var i=Date.now();this.paymentService.selectCard(e).then(function(e){t.analyticsService.sendTiming({category:"Selecting card",timingVar:"save",timingValue:Date.now()-i}),t.isLoading=!1,t.defaultCard=e.default_source}).catch(function(e){t.popupsService.activate({type:"error",data:{title:"Errore",message:e.json().message}}),t.isLoading=!1})},e.prototype.deleteCard=function(e){var t=this;this.isLoading=!0;var i=Date.now();this.paymentService.deleteCard(e).then(function(a){t.analyticsService.sendTiming({category:"Deleting card",timingVar:"save",timingValue:Date.now()-i}),t.isLoading=!1;var n=0;if(t.cards.forEach(function(i){i.id===e&&t.cards.splice(n,1),n++}),e===t.defaultCard&&t.cards.length>0){var r="";t.cards.forEach(function(t){t.id!==e&&(r=t.id)}),t.selectCard(r)}else t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.popupsService.activate({type:"error",data:{title:"Errore",message:e.json().message}})})},e.prototype.editCard=function(e){var t=this,i={};this.cards.forEach(function(a){a.id===e&&(i={id:a.id,address_city:a.address_city,address_country:a.address_country,address_line1:a.address_line1,address_line2:a.address_line2,address_state:a.address_state,address_zip:a.address_zip,exp_month:a.exp_month,exp_year:t.formatYear(a.exp_year),name:a.name,number:"**** "+a.last4,cvc:"***"})}),this.popupsService.activate({type:"editCard",data:i})},e.prototype.logout=function(){this.popupsService.activate({type:"logout",data:{}})},e.prototype.ngOnDestroy=function(){l.isBrowser&&this.subscription.unsubscribe()},e=p([i.i(a.Component)({selector:"app-profile",template:i(44)}),u("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.a&&n.a)&&t||Object,"function"==typeof(f="undefined"!=typeof r.Router&&r.Router)&&f||Object,"function"==typeof(v="undefined"!=typeof o.a&&o.a)&&v||Object,"function"==typeof(m="undefined"!=typeof r.ActivatedRoute&&r.ActivatedRoute)&&m||Object,"function"==typeof(g="undefined"!=typeof s.a&&s.a)&&g||Object,"function"==typeof(h="undefined"!=typeof c.a&&c.a)&&h||Object,"function"==typeof(y="undefined"!=typeof d.a&&d.a)&&y||Object])],e);var t,f,v,m,g,h,y}()},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(6)),o=(i.n(r),i(7));i.n(o);i.d(t,"a",function(){return d});var s=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e){this.http=e,this.api="https://api.starbook.co/v0.9.1/"}return e.prototype._makeHeaders=function(){var e;return a.isBrowser&&null!==localStorage.getItem("auth")?(this.auth=JSON.parse(localStorage.getItem("auth")),e=new r.Headers({Token:this.auth.token})):(this.auth=!1,e=new r.Headers({Token:""})),{headers:e}},e.prototype.updateProfile=function(e){var t={fullname:e.fullname,phone_number:e.phone_number,street:e.street,city:e.city,postal_code:e.postal_code,province:e.province,country:e.country};return this.http.put(this.api+"me",t,this._makeHeaders()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getProfile=function(){return this.http.get(this.api+"me",this._makeHeaders()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.handleError=function(e){return Promise.reject(e)},e=s([i.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.Http&&r.Http)&&t||Object])],e);var t}()},function(e,t){e.exports=require("@angular/compiler")},function(e,t){e.exports=require("angular2-platform-node/__private_imports__")},function(e,t,i){"use strict";function a(e,t){t.render("index",{req:e,res:t,ngModule:v.a,preboot:!1,baseUrl:"/",requestUrl:e.originalUrl,originUrl:e.hostname})}var n=i(37),r=(i.n(n),i(23)),o=(i.n(r),i(24)),s=(i.n(o),i(71)),c=(i.n(s),i(67)),d=(i.n(c),i(51)),l=(i.n(d),i(68)),p=(i.n(l),i(69)),u=(i.n(p),i(48)),f=(i.n(u),i(0)),v=(i.n(f),i(26)),m=i(36),g=i(38),h=c(),y=s.join(s.resolve(__dirname,"..")),b=process.env.PORT||80||8080;m.a.production&&i.i(f.enableProdMode)(),h.engine(".html",i.i(u.createEngine)({})),h.set("views",s.join(y,"client")),h.set("view engine","html"),h.use(d()),h.use("/",c.static(s.join(y,"client"),{index:!1})),h.get("/",a),g.a.forEach(function(e){h.get("/"+e,a),h.get("/"+e+"/*",a)}),h.get("*",function(e,t){t.setHeader("Content-Type","application/json");var i={status:404,message:"No Content"},a=JSON.stringify(i,null,2);t.status(404).send(a)}),p.createServer(h).listen(b,function(){console.log("Listening on port "+b)});({key:l.readFileSync(__dirname+"/cert/key.pem","utf8"),cert:l.readFileSync(__dirname+"/cert/server.crt","utf8")})},,function(e,t,i){var a=i(19),n=i(0),r=!1;n.hasOwnProperty("ViewUtils")||(r=!0,n.ViewUtils=n.view_utils),a.__compiler_private__||(r=!0,a.__compiler_private__={SelectorMatcher:a.SelectorMatcher,CssSelector:a.CssSelector});var o=i(20);r&&(o.ViewUtils=n.view_utils,o.CssSelector=a.CssSelector,o.SelectorMatcher=a.SelectorMatcher)},function(e,t,i){"use strict";function a(e){return Boolean(this.isCustomEvent(e))}function n(e){return new s.NodeDomRenderer(this,e,this._animationDriver)}var r=i(47),o=(i.n(r),i(0)),s=(i.n(o),i(50)),c=(i.n(s),i(19)),d=!1;if(o.__core_private__.ViewUtils||(d=!0,o.__core_private__.ViewUtils=o.__core_private__.view_utils),c&&c.SelectorMatcher&&c.CssSelector&&(d=!0,c.__compiler_private__={SelectorMatcher:c.SelectorMatcher,CssSelector:c.CssSelector}),d){var l=i(20);l.ViewUtils=o.__core_private__.view_utils,l.CssSelector=l.CssSelector||c.CssSelector,l.SelectorMatcher=l.SelectorMatcher||c.SelectorMatcher}r.__platform_browser_private__.HammerGesturesPlugin.prototype.supports=a,s.NodeDomRootRenderer.prototype.renderComponent=n},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(4)),o=(i.n(r),i(10)),s=i(2),c=i(5),d=i(8);i.d(t,"a",function(){return u});var l=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,i,n,o,s){var c=this;this.router=e,this.route=t,this.authServics=i,this.navigationService=n,this.popupsService=o,this.homeService=s,this.activePopup="",this.popupState="inactive",this.navbarState=!1,this.isLoading=!1,this.isFindField=!1,this.spinerView=!1,this.clearView=!1,this.findValue="",this.results=[],this.isSearched=!1,this.browser=a.isBrowser,a.isBrowser&&this.router.events.subscribe(function(e){if(e instanceof r.NavigationEnd){ga("send","pageview",e.urlAfterRedirects);for(var t=c.route.root;void 0!==t.children[0];)t=t.children[0];"isFindField"in t.snapshot.data?c.isFindField=!0:c.isFindField=!1}})}return e.prototype.getLoginPopup=function(){this.popupsService.activate({type:"login"}),this.toggleMenu()},e.prototype.getRegistrationPopup=function(){this.popupsService.activate({type:"registration"}),this.toggleMenu()},e.prototype.closePopup=function(){this.popupsService.activate("")},e.prototype.toggleMenu=function(){this.navbarState=!this.navbarState},e.prototype.ngOnInit=function(){var e=this;this.auth=this.authServics.authInit(),a.isBrowser&&(this.subscription=this.navigationService.getMessage$.subscribe(function(t){e.tagline=t,e.findValue=t,e.results=[],e.clearView=!0,e.isSearched=!1}),this.authSubscription=this.navigationService.getPersonalMenu$.subscribe(function(t){t!==!1?e.auth=t:e.auth=!1}))},e.prototype.updateTabMenu=function(e){void 0===e&&(e=!1),e&&this.toggleMenu(),this.navigationService.updateActiveTab(!1)},e.prototype.search=function(e){var t=this;this.isSearched=!0,this.spinerView=!0,this.clearView=!1,this.homeService.search(e.query).then(function(i){t.spinerView=!1,e.query.length>0&&(t.clearView=!0),t.results=i.result}).catch(function(i){t.spinerView=!1,e.query.length>0&&(t.clearView=!0),t.results=[]})},e.prototype.selectResult=function(e){this.homeService.sendServices(e),this.results=[],this.clearView=!1,this.navbarState=!1,this.findValue="",this.router.navigate(["services",e._id])},e.prototype.clearSearchForm=function(){this.findValue="",this.results=[],this.clearView=!1},e.prototype.ngOnDestroy=function(){a.isBrowser&&(this.subscription.unsubscribe(),this.authSubscription.unsubscribe())},e=l([i.i(n.Component)({selector:"app-root",template:i(39)}),p("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.Router&&r.Router)&&t||Object,"function"==typeof(u="undefined"!=typeof r.ActivatedRoute&&r.ActivatedRoute)&&u||Object,"function"==typeof(f="undefined"!=typeof o.a&&o.a)&&f||Object,"function"==typeof(v="undefined"!=typeof s.a&&s.a)&&v||Object,"function"==typeof(m="undefined"!=typeof c.a&&c.a)&&m||Object,"function"==typeof(g="undefined"!=typeof d.a&&d.a)&&g||Object])],e);var t,u,f,v,m,g}()},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(1)),r=(i.n(n),i(13)),o=(i.n(r),i(4)),s=(i.n(o),i(70)),c=(i.n(s),i(27)),d=i(8),l=i(10),p=i(9),u=i(18),f=i(2),v=i(11),m=i(5),g=i(12),h=i(3),y=i(25),b=i(15),P=i(30),S=i(16),_=i(17),O=i(34),w=i(33),C=i(31),D=i(32),k=i(35);i.d(t,"a",function(){return j});var I=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},E=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},A=[n.NodeHttpModule,n.UniversalModule,r.FormsModule,r.ReactiveFormsModule,o.RouterModule,c.a,s.ClickOutsideModule],z=[y.a,b.a,P.a,S.a,_.a,O.a,w.a,C.a,D.a,k.a];if(n.isBrowser){var x=i(73).CalendarModule;A.push(x);var R=i(72).AutoCompleteModule;A.push(R)}else{var T=i(29).CalendarMockComponent;z.push(T);var M=i(28).AutoCompleteMockComponent;z.push(M)}var j=function(){function e(){}return e=I([i.i(a.NgModule)({bootstrap:[y.a],declarations:z,imports:A,providers:[d.a,l.a,p.a,u.a,f.a,v.a,m.a,g.a,h.a]}),E("design:paramtypes",[])],e)}()},function(e,t,i){"use strict";var a=i(4),n=(i.n(a),i(15)),r=i(16),o=i(17);i.d(t,"a",function(){return c});var s=[{path:"",component:n.a},{path:"services/:id",component:n.a,data:{isFindField:!0}},{path:"orders",component:r.a},{path:"profile/:page",component:o.a}],c=a.RouterModule.forRoot(s)},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(13));i.n(n);i.d(t,"CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR",function(){return s}),i.d(t,"AutoCompleteMockComponent",function(){return c});var r=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s={provide:n.NG_VALUE_ACCESSOR,useExisting:i.i(a.forwardRef)(function(){return c}),multi:!0},c=function(){function e(){this.innerValue="",this.onTouchedCallback=function(){},this.onChangeCallback=function(){}}return e.prototype.writeValue=function(e){e!==this.innerValue&&(this.innerValue=e)},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},r([i.i(a.Input)("suggestions"),o("design:type",Array)],e.prototype,"suggestions",void 0),e=r([i.i(a.Component)({selector:"p-autoComplete",template:'<input type="text" class="form-control" style="display: none"/>',providers:[s]}),o("design:paramtypes",[])],e)}()},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(13));i.n(n);i.d(t,"CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR",function(){return s}),i.d(t,"CalendarMockComponent",function(){return c});var r=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s={provide:n.NG_VALUE_ACCESSOR,useExisting:i.i(a.forwardRef)(function(){return c}),multi:!0},c=function(){function e(){this.innerValue="",this.onTouchedCallback=function(){},this.onChangeCallback=function(){}}return e.prototype.writeValue=function(e){e!==this.innerValue&&(this.innerValue=e)},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},r([i.i(a.Input)("locale"),o("design:type",Object)],e.prototype,"locale",void 0),r([i.i(a.Input)("minDate"),o("design:type",Object)],e.prototype,"minDate",void 0),r([i.i(a.Input)("maxDate"),o("design:type",Object)],e.prototype,"maxDate",void 0),e=r([i.i(a.Component)({selector:"p-calendar",template:'<input type="text" class="form-control" style="display: none"/>',providers:[s]}),o("design:paramtypes",[])],e)}()},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(9)),r=i(5),o=i(3),s=i(1);i.n(s);i.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,i){this.orderService=e,this.popupsService=t,this.analyticsService=i,this.timePicker=[],this.timePickerIsShow=!1,this.addresses=[],this.address="",this.selectedAddress={street:"",street_number:null,city:"",postal_code:null,province:"",country:"",country_code:"",selected:!1,isFull:!1,formattedAddress:""},this.isAddressOne=!1,this.isAddressFull=!1,this.isAddressDirty=!1,this.isEnable=!0,this.Order={service_id:"",delivery_details:[],delivery_description:"",applicant_fullname:"none",applicant_email:"none",applicant_phone:"none",delivery_address:"",date:null,time:"",delivery_date:"",street:"",street_number:null,city:"",postal_code:null,province:"",country:"",country_code:"",formattedAddress:"",payment:{amount:0,currency:""}},this.minDate=new Date((new Date).getTime()+864e5),this.maxDate=new Date((new Date).getTime()+18144e5),this.submitOrder=!1,this.isMobileCalendar=!1,this.maxOrderBlockSize="auto",this.isLoading=!1,this.browser=s.isBrowser,this.timePicker.push("08:00","08:30","09:00","09:30","10:00","10:30","11:00","14:00","14:30","15:00"),this.months={1:"Gennaio",2:"Febbraio",3:"Marzo",4:"Aprile",5:"Maggio",6:"Giugno",7:"Luglio",8:"Agosto",9:"Settembre",10:"Ottobre",11:"Novembre",12:"Dicembre"}}return e.prototype.toggleTimepicker=function(){this.timePickerIsShow=!this.timePickerIsShow},e.prototype.openTimepicker=function(){this.timePickerIsShow=!0},e.prototype.closeTimepicker=function(){this.timePickerIsShow=!1},e.prototype.selectTime=function(e){this.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"select time"}),this.Order.time=e},e.prototype.getAddresses=function(e){var t=this;this.isAddressDirty=!0,this.isAddressFull=!1,e.query.length>2&&this.orderService.getAddresses(e.query).then(function(e){t.addresses=[],t.addresses=e}).catch(function(e){console.log(e)})},e.prototype.selectAddress=function(e){this.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"select address"}),e.isFull?this.isAddressFull=!0:this.isAddressFull=!1,this.selectedAddress=e},e.prototype.modifyAddress=function(){this.isAddressDirty=!1,this.isEnable=!0,this.isAddressDirty=!1},e.prototype.showConfirmation=function(){this.analyticsService.sendEvent({category:"Order creation form",action:"send form",label:"start"}),this.submitOrder=!0,this.isAddressDirty=!0,this.Order.street_number="",this.Order.postal_code="",this.Order.country_code="",this.Order.street=this.selectedAddress.street,this.Order.street_number=this.selectedAddress.street_number,this.Order.city=this.selectedAddress.city,this.Order.postal_code=this.selectedAddress.postal_code,this.Order.province=this.selectedAddress.province,this.Order.country=this.selectedAddress.country,this.Order.country_code=this.selectedAddress.country_code,this.Order.formattedAddress=this.selectedAddress.formattedAddress,this.address=this.selectedAddress.street+", "+this.selectedAddress.street_number+", "+this.selectedAddress.city,""!==this.Order.street_number&&null!==this.Order.street_number&&""!==this.Order.postal_code&&null!==this.Order.postal_code&&""!==this.Order.country_code&&null!==this.Order.country_code?(this.isAddressFull=!0,this.isEnable=!0):(this.isAddressFull=!1,this.isEnable=!1),this.showPreviewOrder()},e.prototype.showPreviewOrder=function(){if(this.Order.date&&this.orderIsFull&&this.isAddressFull&&this.orderData.order_options.min_amount<=this.orderData.totalPrice){var e=new Date(this.Order.date),t=e.getDate()>9?e.getDate():"0"+e.getDate(),i={date:t+" "+this.it.monthNames[e.getMonth()]+" "+e.getFullYear(),time:this.Order.time,address:this.Order.street+", "+this.Order.street_number+", "+this.Order.city,description:this.Order.delivery_description};null===localStorage.getItem("auth")?this.popupsService.activate({type:"loginFromOrder",data:{orderData:this.orderData,information:i}}):this.popupsService.activate({type:"confirmNewOrder",data:{orderData:this.orderData,information:i}})}},e.prototype.createOrder=function(){var e=this,t=new Date(this.Order.date),i=localStorage.getItem("auth");if(null!==i){var a=t.getDate()>9?t.getDate():"0"+t.getDate(),n=1+t.getMonth(),r=n>9?n:"0"+n;this.Order.delivery_date=t.getFullYear()+"-"+r+"-"+a+"T"+this.Order.time+":00.000Z",this.Order.service_id=this.orderData.service_id,this.Order.delivery_details=[{title:this.orderData.service,amount:0,type:"service"}],this.orderData.services.forEach(function(t){"BASE_AMOUNT_INCREMENT"===t.price_type?e.Order.delivery_details.push({title:t.name,description:t.option.name,amount:0,type:"item"}):e.Order.delivery_details.push({title:t.name,description:t.option.name,amount:t.option.price,type:"item"})}),this.Order.payment={amount:this.orderData.totalPrice,currency:"eur"},this.isLoading=!0;var o=Date.now();this.orderService.saveOrder(this.Order).then(function(t){e.analyticsService.sendEvent({category:"Order creation form",action:"send form",label:"finish"}),e.analyticsService.sendTiming({category:"Saving order",timingVar:"save",timingValue:Date.now()-o}),e.Order.delivery_details=[],e.Order.delivery_address="",e.Order.delivery_description="",e.Order.date=null,e.Order.time="",e.Order.delivery_date="",e.Order.street_number="",e.Order.postal_code="",e.Order.country_code="",e.Order.formattedAddress="",e.address="",e.submitOrder=!1,e.popupsService.activate({type:"confirmNewOrderEnd"}),s.isBrowser&&e.orderService.makeEvent({status:!0}),e.isLoading=!1}).catch(function(t){e.analyticsService.sendEvent({category:"Order creation form",action:"send form",label:"error"}),402===t.status?e.popupsService.activate({type:"error",data:{title:"Errore",message:"Per favore, inserisci un metodo di pagamento prima di prenotare un servizio"}}):403===t.status&&e.popupsService.activate({type:"error",data:{title:"Errore",message:"Il servizio richiesto non è ancora disponibile in questa zona. Per favore contattaci nella sezione assistenza di Starbook per richiedere il supporto nella zona desiderata."}}),e.isLoading=!1})}else this.popupsService.activate({type:"login"})},e.prototype.ngOnInit=function(){var e=this;this.it={firstDayOfWeek:1,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},s.isBrowser&&(this.subscription=this.popupsService.getPopupResponse$.subscribe(function(t){"confirm"===t.type&&e.createOrder()})),s.isBrowser&&(document.querySelector("body").clientWidth>480?(this.isMobileCalendar=!1,this.maxOrderBlockSize=document.body.clientHeight-450+"px"):(this.isMobileCalendar=!0,this.maxOrderBlockSize="auto"))},e.prototype.onResize=function(){s.isBrowser&&(document.querySelector("body").clientWidth>480?(this.isMobileCalendar=!1,this.maxOrderBlockSize=document.body.clientHeight-450+"px"):(this.isMobileCalendar=!0,this.maxOrderBlockSize="auto"))},e.prototype.ngOnDestroy=function(){s.isBrowser&&this.subscription.unsubscribe()},e.prototype.selectDate=function(){this.analyticsService.sendEvent({category:"Order creation form",action:"modify",label:"select date"})},c([i.i(a.Input)(),d("design:type",Object)],e.prototype,"orderData",void 0),c([i.i(a.Input)("orderIsFull"),d("design:type",Object)],e.prototype,"orderIsFull",void 0),e=c([i.i(a.Component)({selector:"app-order",template:i(41)}),d("design:paramtypes",["function"==typeof(t="undefined"!=typeof n.a&&n.a)&&t||Object,"function"==typeof(l="undefined"!=typeof r.a&&r.a)&&l||Object,"function"==typeof(p="undefined"!=typeof o.a&&o.a)&&p||Object])],e);var t,l,p}()},function(e,t,i){"use strict";var a=i(0),n=(i.n(a),i(4)),r=(i.n(n),i(8)),o=i(2),s=i(3);i.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,i,a,n){this.homeService=e,this.router=t,this.route=i,this.navigationService=a,this.analyticsService=n,this.cardStyles={1:"0.95",2:"0.95",3:"0.9"},this.query="",this.results=[],this.services=[],this.spinerView=!1,this.clearView=!1,this.isLoading=!1}return e.prototype.ngOnInit=function(){var e=this;this.navigationService.updateMessage("Una città smart ha bisogno di servizi smart"),this.isLoading=!0;var t=Date.now();this.homeService.getServices().then(function(i){e.services=i.result,e.analyticsService.sendTiming({category:"Get list of featured",timingVar:"load",timingValue:Date.now()-t}),e.isLoading=!1}).catch(function(t){console.log(t),e.isLoading=!1})},e.prototype.cardHover=function(e,t){"on"===t?this.cardStyles[e]="1":3===e?this.cardStyles[e]="0.9":this.cardStyles[e]="0.95"},e.prototype.search=function(e){var t=this;this.spinerView=!0,this.clearView=!1;var i=Date.now();this.homeService.search(e.query).then(function(a){t.spinerView=!1,t.analyticsService.sendTiming({category:"Search",timingVar:"load",timingValue:Date.now()-i}),e.query.length>0&&(t.clearView=!0),t.results=a.result}).catch(function(i){t.spinerView=!1,e.query.length>0&&(t.clearView=!0),t.results=[]})},e.prototype.selectResult=function(e){this.homeService.sendServices(e),this.router.navigate(["services",e._id])},e.prototype.clearSearchForm=function(){this.query="",this.results=[],this.clearView=!1},e=c([i.i(a.Component)({selector:"app-landing",template:i(42)}),d("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.a&&r.a)&&t||Object,"function"==typeof(l="undefined"!=typeof n.Router&&n.Router)&&l||Object,"function"==typeof(p="undefined"!=typeof n.ActivatedRoute&&n.ActivatedRoute)&&p||Object,"function"==typeof(u="undefined"!=typeof o.a&&o.a)&&u||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object])],e);var t,l,p,u,f}()},function(e,t,i){"use strict";var a=i(0);i.n(a);i.d(t,"a",function(){return o});var n=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(){}return e.prototype.transform=function(e,t){var i;if(e){var a=e.split(""),n=0;if(a.forEach(function(e){"/"===e&&a.splice(n,1)}),a.length>1){var r=0;a.forEach(function(e){r<3&&(i+=e,1===r&&(i+="/"))})}else a.forEach(function(e){i+=e})}return i},e=n([i.i(a.Pipe)({name:"expiry"}),r("design:paramtypes",[])],e)}()},function(e,t,i){"use strict";var a=i(0);i.n(a);i.d(t,"a",function(){return o});var n=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(){}return e.prototype.transform=function(e,t){if(e){var i="",a=0,n=e.split("");return n.forEach(function(e){i+=2===a||4===a||6===a?e+" ":e,a++}),i}return null},e=n([i.i(a.Pipe)({name:"phone"}),r("design:paramtypes",[])],e)}()},function(e,t,i){"use strict";var a=i(1),n=(i.n(a),i(0)),r=(i.n(n),i(4)),o=(i.n(r),i(10)),s=i(2),c=i(5),d=i(11),l=i(12),p=i(3);i.d(t,"a",function(){return v});var u=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);
return r>3&&o&&Object.defineProperty(t,i,o),o},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(e,t,i,a,n,r,o){this.authServics=e,this.navigationService=t,this.popupService=i,this.ordersService=a,this.paymentService=n,this.router=r,this.analyticsService=o,this.activePopup="",this.addCardPopupState="inactive",this.loginPopupState="inactive",this.registrationPopupState="inactive",this.recoveryPopupState="inactive",this.finishPopupState="inactive",this.confirmPopupState="inactive",this.confirmFinishPopupState="inactive",this.confirmActionPopupState="inactive",this.shadowState="inactive",this.addCardData={object:"card",exp_date:"",exp_month:null,exp_year:null,number:null,cvc:"",name:"",address_line1:"",address_line2:"",address_city:"",address_zip:"",address_state:"",address_country:""},this.actionCardType="add",this.addCardError={exp_date:!1,number:!1,cvc:!1},this.loginData={email:"",password:"",type:"",orderData:{}},this.loginError={email:!1,password:!1},this.registrationData={name:"",phone:"",email:"",password:"",passwordConfirm:""},this.registrationError={name:!1,phone:!1,email:!1,passwordFirst:!1,password:!1},this.recoveryData={email:""},this.recoveryError={email:!1},this.confirmPopupData={id:null,title:"",text:"",data:[],information:{},button:"",type:""},this.confirmFinishPopupData={title:"",text:"",type:"center"},this.confirmActionPopupData={orderId:"",type:"",title:"",text:"",text2:"",actions:[],buttons:[],price:null},this.finishPopupData={title:"",text:[]},this.isPopupLoading=!1,this.formError=!1,this.emailPattern=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i}return e.prototype.getPopup=function(e){return this.closePopup(!0),"login"===e&&(this.loginPopupState="active"),"registration"===e&&(this.registrationPopupState="active"),"recovery"===e&&(this.recoveryPopupState="active"),"finish"===e&&(this.finishPopupState="active",this.finishPopupData.title="Check your inbox",this.finishPopupData.text=["We sent a password reset link to your email address. Please click the link in the email to create e new password.","The link will only be active for 1 hour. After that you will need to request a new one."]),"error"===e&&(this.finishPopupState="active"),"confirmFinish"===e&&(this.confirmFinishPopupState="active"),"confirmEnd"===e&&(this.confirmPopupState="active"),"addCard"===e&&(this.addCardPopupState="active"),"confirmAction"===e&&(this.confirmActionPopupState="active"),"confirmOrderEnd"===e&&(this.confirmPopupState="active"),this.shadowState="active",this.activePopup=e,!1},e.prototype.closePopup=function(e){void 0===e&&(e=!1),"active"===this.loginPopupState&&(this.loginPopupState="inactive"),"active"===this.registrationPopupState&&(this.registrationPopupState="inactive"),"active"===this.recoveryPopupState&&(this.recoveryPopupState="inactive"),"active"===this.finishPopupState&&(this.finishPopupState="inactive"),"active"===this.confirmPopupState&&(this.confirmPopupState="inactive"),"active"===this.confirmFinishPopupState&&(this.confirmFinishPopupState="inactive"),"active"===this.addCardPopupState&&(this.addCardPopupState="inactive"),"active"===this.confirmActionPopupState&&(this.confirmActionPopupState="inactive"),this.activePopup="",this.formError=!1,e||(this.shadowState="inactive",this.clearData())},e.prototype.login=function(e,t){var i=this;if(this.emailPattern.test(e)&&t.length>0){this.isPopupLoading=!0;var a=Date.now();this.authServics.login(e,t).then(function(e){i.analyticsService.sendTiming({category:"Login",timingVar:"load",timingValue:Date.now()-a}),i.isPopupLoading=!1,i.auth=e,"fromOrder"===i.loginData.type?(i.closePopup(!0),i.popupService.activate({type:"confirmNewOrder",data:i.loginData.orderData})):(i.closePopup(),i.router.navigate(["/"]))}).catch(function(e){switch(i.isPopupLoading=!1,e){case 404:i.formError={title:"Si è verificato un errore!",message:"Non riusciamo a trovare un account con quell’indirizzo e-mail"};break;case 401:i.formError={title:"Si è verificato un errore!",message:"La tua password non è corretta"};break;default:i.formError=!1}})}else t.length<1&&(this.loginError.password=!0),this.emailPattern.test(e)||(this.loginError.email=!0);return!1},e.prototype.checkEmail=function(e,t){if(this.emailPattern.test(t))switch(e){case"login":this.loginError.email=!1;break;case"registration":this.registrationError.email=!1;break;case"recovery":this.recoveryError.email=!1}else switch(e){case"login":this.loginError.email=!0;break;case"registration":this.registrationError.email=!0;break;case"recovery":this.recoveryError.email=!0}},e.prototype.checkDate=function(e,t){if("newCard"===e&&(5!==t.length&&(this.addCardError.exp_date=!0),5===t.length)){var i=t.split("/");i[0]===t?this.addCardError.exp_date=!0:this.addCardError.exp_date=!1}},e.prototype.checkNonEmpty=function(e,t){"login"===e&&(t.length>0?this.loginError.password=!1:this.loginError.password=!0),"registrationName"===e&&(t.length>0?this.registrationError.name=!1:this.registrationError.name=!0),"registrationPhone"===e&&(t.length>10?this.registrationError.phone=!1:this.registrationError.phone=!0),"registrationPassword"===e&&(t.length>0?this.registrationError.passwordFirst=!1:this.registrationError.passwordFirst=!0),"addCardNumber"===e&&(t.length>0?this.addCardError.number=!1:this.addCardError.number=!0),"addCardCvv"===e&&(t.length>2?this.addCardError.cvc=!1:this.addCardError.cvc=!0)},e.prototype.checkPassword=function(e,t){e!==t?this.registrationError.password=!0:this.registrationError.password=!1},e.prototype.checkExpiry=function(e){var t="",i=new Date,a=(1+i.getMonth()).toString();i.getMonth()+1<10&&(a="0"+a.toString());var n=i.getFullYear().toString().split(""),r=parseInt(n[2].toString()+n[3].toString());if(e){var o=e.split(""),s=0;if(o.forEach(function(e){"/"===e&&o.splice(s,1),s++}),o.length>1){var c=0;o.forEach(function(e){c<4&&(2===c&&(t+="/"),t+=e),c++})}else o.forEach(function(e){t+=e})}if(5!==t.length&&(this.addCardError.exp_date=!0),5===t.length){var d=t.split("/");d[0]!==t?parseInt(d[1])>r?this.addCardError.exp_date=!1:parseInt(d[0])>=parseInt(a)&&parseInt(d[1])===r?this.addCardError.exp_date=!1:this.addCardError.exp_date=!0:this.addCardError.exp_date=!0}return this.addCardData.exp_date=t,t},e.prototype.checkCardNumber=function(e){},e.prototype.registration=function(e,t,i,a,n){var r=this;if(this.emailPattern.test(i)&&a===n&&a.length>0&&e.length>0&&t.length>9){this.isPopupLoading=!0;var o=Date.now();this.authServics.signup(e,t,i,a).then(function(e){r.analyticsService.sendTiming({category:"Registration",timingVar:"save",timingValue:Date.now()-o}),r.isPopupLoading=!1,r.auth=e,r.navigationService.updatePersonalMenu(e),r.closePopup(),r.router.navigate(["/profile/payment"])}).catch(function(e){switch(r.isPopupLoading=!1,e){case 409:r.formError={title:"Indirizzo e-mail già in uso.",message:"Hai indicato di essere un nuovo cliente ma è già\n                presente un account collegato all'indirizzo e-mail: mail@gmail.com"};break;case 422:r.formError={title:"Parametri mancanti",message:"Inserisci tutti i parametri per procedere con la registrazione"};break;case 404:r.formError={title:"Errore",message:"C'è stato un errore sconosciuto, per favore riprova più tardi"};break;default:r.formError=!1}})}else this.emailPattern.test(i)||(this.registrationError.email=!0),a!==n&&(this.registrationError.password=!0),a.length<1&&(this.registrationError.passwordFirst=!0),e.length<1&&(this.registrationError.name=!0);return!1},e.prototype.recovery=function(e){var t=this;if(this.emailPattern.test(e)){this.isPopupLoading=!0;var i=Date.now();this.authServics.recovery(e).then(function(e){t.analyticsService.sendTiming({category:"Recovery of password",timingVar:"load",timingValue:Date.now()-i}),t.isPopupLoading=!1,t.getPopup("finish")}).catch(function(e){t.isPopupLoading=!1,t.formError={title:"Si è verificato un problema!",message:"Ci dispiace. Impossibile identificare l'account con le informazioni fornite."}})}else this.recoveryError.email=!0;return!1},e.prototype.confirmOrder=function(e){},e.prototype.cancelOrder=function(e){var t=this,i=Date.now();this.ordersService.modifyOrder(e,"CANCEL").then(function(a){t.analyticsService.sendTiming({category:"Modify order: Cancel",timingVar:"save",timingValue:Date.now()-i}),t.confirmFinishPopupData.title="Ordine annullato",t.confirmFinishPopupData.text="Questo ordine è stato annullato, puoi riattivarlo in un secondo momento.",t.getPopup("confirmFinish"),t.popupService.actionComplete({type:"cancelOrder",data:{orderId:e}})}).catch(function(e){t.formError=!0,t.formError={title:"Cancellation error",message:"An error occurred while canceling your order. Please try again."}})},e.prototype.reactivateOrder=function(e){var t=this,i=Date.now();this.ordersService.modifyOrder(e,"REACTIVATE").then(function(a){t.analyticsService.sendTiming({category:"Modify order: Reactivate",timingVar:"save",timingValue:Date.now()-i}),t.confirmFinishPopupData.title="Ordine riattivato",t.confirmFinishPopupData.text="Questo ordine è stato riattivato, verrai notificato quando un professionista confermera questo ordine.",t.getPopup("confirmFinish"),t.popupService.actionComplete({type:"reactivateOrder",data:{orderId:e}})}).catch(function(e){t.formError=!0,t.formError={title:"Reactivation order error",message:"During the reactivation of your order is the order the error occurred. Please try again."}})},e.prototype.confirmNewOrder=function(){this.closePopup(),this.popupService.actionComplete({type:"confirm"})},e.prototype.addNewCard=function(){var e=this,t=!1;if(0===this.addCardData.number.length&&(t=!0),5===this.addCardData.exp_date.length){var i=this.addCardData.exp_date.split("/");i[0]!==this.addCardData.exp_date?(this.addCardData.exp_month=i[0],this.addCardData.exp_year=i[1]):t=!0}else t=!0;if(this.addCardData.cvc.length<3&&(t=!0),!t){this.isPopupLoading=!0,this.popupService.actionComplete({type:"startNewCard"});var a=Date.now();this.paymentService.addNewCard(this.addCardData).then(function(t){e.analyticsService.sendTiming({category:"Add new card",timingVar:"save",timingValue:Date.now()-a}),e.isPopupLoading=!1,e.popupService.actionComplete({type:"newCard",data:t}),e.closePopup()}).catch(function(t){e.isPopupLoading=!1,e.popupService.actionComplete({type:"newCardError"}),e.closePopup();var i=t.json().message;i?e.getErrorPopup("Errore",i):e.getErrorPopup("Errore","An error occurred")})}},e.prototype.editCard=function(){var e=this,t=!1,i={exp_month:null,exp_year:null,name:"",address_line1:"",address_line2:"",address_city:"",address_zip:"",address_state:"",address_country:""};if(5===this.addCardData.exp_date.length){var a=this.addCardData.exp_date.split("/");a[0]!==this.addCardData.exp_date?(i.exp_month=a[0],i.exp_year=a[1]):t=!0}else t=!0;if(!t){i.name=this.addCardData.name,i.address_line1=this.addCardData.address_line1,i.address_line2=this.addCardData.address_line2,i.address_city=this.addCardData.address_city,i.address_zip=this.addCardData.address_zip,i.address_state=this.addCardData.address_state,i.address_country=this.addCardData.address_country,this.popupService.actionComplete({type:"startNewCard"}),this.isPopupLoading=!0;var n=Date.now();this.paymentService.editCard(this.editedCardId,i).then(function(t){e.analyticsService.sendTiming({category:"Edit card card",timingVar:"save",timingValue:Date.now()-n}),e.isPopupLoading=!1,e.popupService.actionComplete({type:"cardEdited",data:t}),e.closePopup()}).catch(function(t){e.isPopupLoading=!1,e.popupService.actionComplete({type:"newCardError"}),e.closePopup();var i=t.json().message;i?e.getErrorPopup("Errore",i):e.getErrorPopup("Errore","An error occurred")})}},e.prototype.addPrice=function(e){var t=this;this.isPopupLoading=!0;var i=Date.now();this.ordersService.modifyOrder(e,"CLOSE").then(function(a){t.analyticsService.sendTiming({category:"Modify order: Close",timingVar:"save",timingValue:Date.now()-i}),t.isPopupLoading=!1,t.closePopup(!0),t.confirmPopupData.title="Servizio completato con successo",t.confirmPopupData.text="",t.confirmPopupData.type="addPriceEnd",t.confirmPopupState="active",t.activePopup="addPriceEnd",t.shadowState="active",t.popupService.actionComplete({type:"addPrice",data:{orderId:e,isModified:a.nModified}})}).catch(function(e){t.isPopupLoading=!1,t.closePopup();var i=e.json().message;i?t.getErrorPopup("Errore",i):t.getErrorPopup("Errore","An error occurred")})},e.prototype.editPrice=function(e){var t=this,i=parseInt(this.confirmActionPopupData.price)+parseInt(this.confirmActionPopupData.price)/100*5.5,a=100*parseFloat(i.toFixed(2)),n=Date.now();this.ordersService.addPrice(e,"ACTIVE_PAYMENT",a).then(function(i){t.analyticsService.sendTiming({category:"Modify order: Active payment",timingVar:"save",timingValue:Date.now()-n}),t.closePopup(),t.popupService.actionComplete({type:"editPrice",data:{orderId:e,orderPrice:a,isModified:i.nModified}})}).catch(function(e){console.log(e)})},e.prototype.continueOrder=function(e){var t=this,i=Date.now();this.ordersService.modifyOrder(e,"PAY").then(function(a){t.analyticsService.sendTiming({category:"Modify order: Pay",timingVar:"save",timingValue:Date.now()-i}),t.confirmFinishPopupData.title="Pagamento effettuato",t.confirmFinishPopupData.text="Ti abbiamo inviato una mail e un sms con la conferma del pagamento e la ricevuta fiscale",t.confirmFinishPopupData.type="left",t.getPopup("confirmFinish"),t.popupService.actionComplete({type:"continueOrder",data:{orderId:e}})}).catch(function(e){console.log(e)})},e.prototype.logout=function(){this.popupService.actionComplete({type:"logout",data:{}}),this.closePopup()},e.prototype.getErrorPopup=function(e,t){this.finishPopupData.text=[],this.finishPopupData.title=e,this.finishPopupData.text.push(t),this.getPopup("error")},e.prototype.ngOnInit=function(){var e=this;a.isBrowser&&(this.subscription=this.popupService.getActivePopup$.subscribe(function(t){switch(t.type){case"login":e.loginData.email="",e.loginData.password="",e.loginPopupState="active",e.activePopup="login",e.shadowState="active";break;case"loginFromOrder":e.loginData.orderData=t.data,e.loginData.type="fromOrder",e.loginPopupState="active",e.activePopup="login",e.shadowState="active";break;case"addCard":e.actionCardType="add",e.addCardPopupState="active",e.activePopup="addCard",e.shadowState="active";break;case"editCard":e.actionCardType="edit",e.editedCardId=t.data.id,e.addCardData.exp_date=t.data.exp_month+"/"+t.data.exp_year,e.addCardData.name=t.data.name,e.addCardData.address_line1=t.data.address_line1,e.addCardData.address_line2=t.data.address_line2,e.addCardData.address_city=t.data.address_city,e.addCardData.address_zip=t.data.address_zip,e.addCardData.address_state=t.data.address_state,e.addCardData.address_country=t.data.address_country,e.addCardData.number=t.data.number,e.addCardData.cvc=t.data.cvc,e.addCardPopupState="active",e.activePopup="addCard",e.shadowState="active";break;case"registration":e.registrationPopupState="active",e.activePopup="registration",e.shadowState="active";break;case"confirmOrder":e.confirmPopupData.id=t.data.orderId,e.confirmPopupData.title="Conferma servizio in corso…",e.confirmPopupData.text="Il sistema sta controllando se questo servizio è stato assegnato ad un altro professionista o anullato dal cliente stesso.",e.confirmPopupData.button="",e.confirmPopupData.type="conferma",e.confirmPopupState="active",e.activePopup="confirmOrder",e.shadowState="active",e.ordersService.modifyOrder(t.data.orderId,"ACCEPT").then(function(i){e.confirmPopupData.title="Servizio confermato con successo",e.confirmPopupData.text="Adesso non resta altro che offrire il suo servizio al cliente. Per qualsiasi communicazione può usare i dati del contatto aggiunti dal cliente.",e.confirmPopupData.type="confermaEnd",e.getPopup("confirmEnd"),e.popupService.actionComplete({type:"confirmOrder",data:{orderId:t.data.orderId}})}).catch(function(t){e.formError=!0,e.formError={title:"Order confirmation error",message:"An error occurred during the order confirmation. Please try again."}});break;case"cancelOrder":e.confirmPopupData.id=t.data.orderId,e.confirmPopupData.title="Annulla ordine?",e.confirmPopupData.text="Dopo aver annullato questo ordine solo tu sarai in grado di vederlo.",e.confirmPopupData.button="Annulla ordine",e.confirmPopupState="active",e.activePopup="confirmOrder",e.shadowState="active";break;case"reactivateOrder":e.confirmPopupData.id=t.data.orderId,e.confirmPopupData.title="Riattiva ordine?",e.confirmPopupData.text="Dopo aver riattivato questo ordine sara visibile a tutti i professionisti.",e.confirmPopupData.button="Riattiva ordine",e.confirmPopupState="active",e.activePopup="confirmOrder",e.shadowState="active";break;case"confirmNewOrder":e.confirmPopupData.title="Dettagli dell’ordine",e.confirmPopupData.data=[{productName:t.data.orderData.service,itemName:"",price:"",type:"service"}],t.data.orderData.services.forEach(function(t){"BASE_AMOUNT_INCREMENT"===t.price_type?e.confirmPopupData.data.push({productName:t.name,itemName:t.option.name,price:"",type:"item"}):"BASE_AMOUNT_PER_INPUT"===t.price_type?e.confirmPopupData.data.push({productName:t.name,itemName:t.option.name,price:"",symbol:t.option.symbol,type:"item"}):e.confirmPopupData.data.push({productName:t.name,itemName:t.option.name,price:t.option.price,type:"item"})}),e.confirmPopupData.data.push({productName:"Totale",itemName:"",price:t.data.orderData.totalPrice,type:"total"}),e.confirmPopupData.information=t.data.information,e.confirmPopupData.button="Procedi con l’acquisto",e.confirmPopupData.type="newOrder",e.confirmPopupState="active",e.activePopup="confirmOrder",e.shadowState="active";break;case"confirmNewOrderEnd":e.confirmPopupData.title="Acquisto effetuato",e.confirmPopupData.text="L’ordine e stato prenotato con successo. Un professionista si presenterà nella data e ora stabilita da voi.",e.confirmPopupData.type="newOrderEnd",e.confirmPopupState="active",e.activePopup="confirmOrderEnd",e.shadowState="active";break;case"addPrice":e.confirmActionPopupData.orderId=t.data.orderId,e.confirmActionPopupData.type="addPrice",e.confirmActionPopupData.title="Completamento servizio",e.confirmActionPopupData.text="Dopo aver completato il servizio verrai incrementato del importo prestabilito tra 7 giorni lavorativi.",e.confirmActionPopupData.buttons.push({type:"addPrice",text:"Completa il servizio"}),e.confirmActionPopupData.buttons.push({type:"close",text:"Chiudi"}),e.confirmActionPopupState="active",e.activePopup="confirmAction",e.shadowState="active";break;case"editPrice":e.confirmActionPopupData.orderId=t.data.orderId,e.confirmActionPopupData.title="Modifica",e.confirmActionPopupData.text="Dopo aver modificato l’importo il cliente verra notificato di questa modifica e potra procedere con il pagamento.",e.confirmActionPopupData.actions.push({type:"Payment_input_edit",source:"euro",label:"Inserisci l’importo",description:"All’importo verra aggiunto 5.5% di tassa Starbook."}),e.confirmActionPopupData.buttons.push({type:"editPrice",text:"Inserisci importo"}),e.confirmActionPopupData.buttons.push({type:"close",text:"Chiudi"}),e.confirmActionPopupData.price=Math.round(parseInt(t.data.payment)/1.055/100),e.confirmActionPopupState="active",e.activePopup="confirmAction",e.shadowState="active";break;case"continueOrder":e.confirmActionPopupData.orderId=t.data.orderId,e.confirmActionPopupData.title="Pagamento",e.confirmActionPopupData.text="Dopo aver effettuato il pagamento riceverai una mail con la fattura del ordine.",e.confirmActionPopupData.text2="Al’importo verra aggiunto 5.5% di tasse Starbook.";var i=Math.round(parseInt(t.data.payment)/1.055/100),a=(parseInt(t.data.payment)-Math.round(parseInt(t.data.payment)/1.055))/100;e.confirmActionPopupData.actions.push({type:"Payment_information",information:i+"€ + "+a+"€ = "+parseInt(t.data.payment)/100+"€"}),e.confirmActionPopupData.buttons.push({type:"continueOrder",text:"Procedi con il pagamento"}),e.confirmActionPopupData.buttons.push({type:"close",text:"Chiudi"}),e.confirmActionPopupState="active",e.activePopup="confirmAction",e.shadowState="active";break;case"logout":e.confirmPopupData.title="Sicuro di voler uscire?",e.confirmPopupData.data=[],e.confirmPopupData.information="",e.confirmPopupData.button="logout",e.confirmPopupData.type="logout",e.confirmPopupState="active",e.activePopup="logout",e.shadowState="active";break;case"error":e.finishPopupData.title="",e.finishPopupData.text=[],e.getErrorPopup(t.data.title,t.data.message)}})),this.auth=this.authServics.authInit()},e.prototype.clearData=function(){this.addCardData={object:"card",exp_date:"",exp_month:null,exp_year:null,number:null,cvc:"",name:"",address_line1:"",address_line2:"",address_city:"",address_zip:"",address_state:"",address_country:""},this.registrationData={name:"",phone:"",email:"",password:"",passwordConfirm:""},this.recoveryData={email:""},this.confirmPopupData={id:null,title:"",text:"",data:[],information:{},button:"",type:""},this.confirmFinishPopupData={title:"",text:"",type:"center"},this.confirmActionPopupData={orderId:"",type:"",title:"",text:"",text2:"",actions:[],buttons:[],price:null},this.loginError={email:!1,password:!1}},e.prototype.ngOnDestroy=function(){a.isBrowser&&this.subscription.unsubscribe()},e=u([i.i(n.Component)({selector:"app-popups",template:i(45),animations:[i.i(n.trigger)("addCardPopupState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",top:"-300px"})),i.i(n.state)("active",i.i(n.style)({display:"block",top:"42px"})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",top:"-300px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.01}),i.i(n.style)({display:"block",opacity:1,top:"42px",offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,top:"42px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.99}),i.i(n.style)({display:"none",top:"-300px",offset:1})]))])]),i.i(n.trigger)("loginPopupState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",top:"-300px"})),i.i(n.state)("active",i.i(n.style)({display:"block",top:"42px"})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",top:"-300px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.01}),i.i(n.style)({display:"block",opacity:1,top:"42px",offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,top:"42px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.99}),i.i(n.style)({display:"none",top:"-300px",offset:1})]))])]),i.i(n.trigger)("registrationPopupState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",top:"-300px"})),i.i(n.state)("active",i.i(n.style)({display:"block",top:"42px"})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",top:"-300px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.01}),i.i(n.style)({display:"block",opacity:1,top:"42px",offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,top:"42px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.99}),i.i(n.style)({display:"none",top:"-300px",offset:1})]))])]),i.i(n.trigger)("recoveryPopupState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",top:"-300px"})),i.i(n.state)("active",i.i(n.style)({display:"block",top:"42px"})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",top:"-300px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.01}),i.i(n.style)({display:"block",opacity:1,top:"42px",offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,top:"42px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.99}),i.i(n.style)({display:"none",top:"-300px",offset:1})]))])]),i.i(n.trigger)("finishPopupState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",top:"-300px"})),i.i(n.state)("active",i.i(n.style)({display:"block",top:"42px"})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",top:"-300px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.01}),i.i(n.style)({display:"block",opacity:1,top:"42px",offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,top:"42px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.99}),i.i(n.style)({display:"none",top:"-300px",offset:1})]))])]),i.i(n.trigger)("confirmPopupState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",top:"-300px"})),i.i(n.state)("active",i.i(n.style)({display:"block",top:"42px"})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",top:"-300px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.01}),i.i(n.style)({display:"block",opacity:1,top:"42px",offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,top:"42px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.99}),i.i(n.style)({display:"none",top:"-300px",offset:1})]))])]),i.i(n.trigger)("confirmFinishPopupState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",top:"-300px"})),i.i(n.state)("active",i.i(n.style)({display:"block",top:"42px"})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",top:"-300px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.01}),i.i(n.style)({display:"block",opacity:1,top:"42px",offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,top:"42px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.99}),i.i(n.style)({display:"none",top:"-300px",offset:1})]))])]),i.i(n.trigger)("confirmActionPopupState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",top:"-300px"})),i.i(n.state)("active",i.i(n.style)({display:"block",top:"42px"})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",top:"-300px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.01}),i.i(n.style)({display:"block",opacity:1,top:"42px",offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,top:"42px",offset:0}),i.i(n.style)({display:"block",opacity:0,top:"-300px",offset:.99}),i.i(n.style)({display:"none",top:"-300px",offset:1})]))])]),i.i(n.trigger)("shadowState",[i.i(n.state)("inactive",i.i(n.style)({display:"none",opacity:0})),i.i(n.state)("active",i.i(n.style)({display:"block",opacity:1})),i.i(n.transition)("inactive => active",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"none",offset:0}),i.i(n.style)({display:"block",opacity:0,offset:.01}),i.i(n.style)({display:"block",opacity:1,offset:1})]))]),i.i(n.transition)("active => inactive",[i.i(n.animate)(300,i.i(n.keyframes)([i.i(n.style)({display:"block",opacity:1,offset:0}),i.i(n.style)({display:"block",opacity:0,offset:.99}),i.i(n.style)({display:"none",offset:1})]))])])]}),f("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(v="undefined"!=typeof s.a&&s.a)&&v||Object,"function"==typeof(m="undefined"!=typeof c.a&&c.a)&&m||Object,"function"==typeof(g="undefined"!=typeof d.a&&d.a)&&g||Object,"function"==typeof(h="undefined"!=typeof l.a&&l.a)&&h||Object,"function"==typeof(y="undefined"!=typeof r.Router&&r.Router)&&y||Object,"function"==typeof(b="undefined"!=typeof p.a&&p.a)&&b||Object])],e);var t,v,m,g,h,y,b}()},function(e,t,i){"use strict";var a=i(0);i.n(a);i.d(t,"a",function(){return o});var n=this&&this.__decorate||function(e,t,i,a){var n,r=arguments.length,o=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(){}return e.prototype.ngOnInit=function(){},e=n([i.i(a.Component)({selector:"app-loading",template:i(46)}),r("design:paramtypes",[])],e)}()},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var a={production:!0}},function(e,t,i){"use strict";var a=i(49),n=(i.n(a),i(65)),r=(i.n(n),i(58)),o=(i.n(r),i(54)),s=(i.n(o),i(60)),c=(i.n(s),i(59)),d=(i.n(c),i(57)),l=(i.n(d),i(56)),p=(i.n(l),i(64)),u=(i.n(p),i(53)),f=(i.n(u),i(52)),v=(i.n(f),i(62)),m=(i.n(v),i(55)),g=(i.n(m),i(63)),h=(i.n(g),i(61)),y=(i.n(h),i(66));i.n(y)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var a=["services/:id","profile/privacy","profile/help","profile/conditions","orders","profile/:page"]},function(e,t){e.exports='<nav class="navbar navbar-dark navbar-fixed-top bg-inverse" [ngClass]="{\'is-search\': isFindField}">\n  <div class="container-starbook top-menu">\n    <a class="navbar-brand" routerLink="" (click)="updateTabMenu()">Starbook</a>\n    <div class="search-block" *ngIf="isFindField">\n      <p-autoComplete [(ngModel)]="findValue" [suggestions]="results" field="title" scrollHeight="170px" (completeMethod)="search($event)" (onSelect)="selectResult(findValue)" placeholder="Cerca" minLength="0">\n        <template let-res>\n          <div class="search-result" (click)="selectResult(res)">{{ res.title }}</div>\n        </template>\n      </p-autoComplete>\n      <div class="spinner" *ngIf="spinerView">\n        <svg width=\'13px\' height=\'13px\' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ring">\n          <rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect>\n          <circle cx="50" cy="50" r="45" stroke-dasharray="169.64600329384882 113.09733552923257" stroke="#3B568D" fill="none" stroke-width="10">\n            <animateTransform attributeName="transform" type="rotate" values="0 50 50;180 50 50;360 50 50;" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="0s"></animateTransform>\n          </circle>\n        </svg>\n      </div>\n      <div class="close-container" *ngIf="!spinerView && clearView">\n        <span class="close rounded thick" (click)="clearSearchForm()"></span>\n      </div>\n      <div class="ui-autocomplete-panel empty" *ngIf="results.length === 0 && findValue.length > 0 && isSearched">\n        <div class="no-result">Nessun risultato</div>\n      </div>\n    </div>\n    <div class="tagline" *ngIf="!isFindField">{{tagline}}</div>\n    <button class="navbar-toggler" type="button" data-toggle="collapse" aria-label="Menu" (click)="toggleMenu()"></button>\n    <ul class="nav navbar-nav float-xs-right" *ngIf="auth !== false" [ngClass]="{\'collapse\':navbarState===false}">\n      <li class="nav-item">\n        <a class="nav-link home" routerLink="" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" (click)="updateTabMenu(true)">Home</a>\n      </li>\n      <li class="nav-item">\n        <a class="nav-link orders" routerLink="/orders" routerLinkActive="active" (click)="toggleMenu()">Ordini</a>\n      </li>\n      <li class="nav-item">\n        <a class="nav-link profile" routerLink="/profile/settings" routerLinkActive="active" (click)="toggleMenu()">{{auth.profile.fullname}}</a>\n      </li>\n    </ul>\n    <ul class="nav navbar-nav float-xs-right" *ngIf="auth === false && browser" [ngClass]="{\'collapse\':navbarState===false}">\n      <li class="nav-item">\n        <a class="nav-link profile" (click)="getLoginPopup()">Accedi</a>\n      </li>\n      <li class="nav-item">\n        <a class="nav-link profile" (click)="getRegistrationPopup()">Registrati</a>\n      </li>\n    </ul>\n  </div>\n</nav>\n<router-outlet></router-outlet>\n<app-popups></app-popups>\n';
},function(e,t){e.exports='<!--<nav class="navbar navbar-dark navbar-tabs">\n  <div class="container-starbook home-tab-bar"\n       (swipeleft)="swipe($event.type, $event.deltaX)"\n       (swiperight)="swipe($event.type, $event.deltaX)">\n    <ul class="nav nav-pills"\n        [ngStyle]="{\'margin-left.px\': delta}">\n      <li class="nav-item" *ngFor="let navServices of servicesCategoryList">\n        <a class="nav-link" [ngClass]="{\'active\':navServices._id===activeServiceCategory && activeServiceCategoryType !== false}" (click)="tabNavigate(navServices._id)"><i class="f{{navServices.icon_name}}"></i> {{navServices.title}}</a>\n      </li>\n    </ul>\n  </div>\n</nav>-->\n\n<div class="container-starbook home-page" *ngIf="isServicesView === true">\n  <div class="row">\n    <div class="col-sm-9 col-md-10 main">\n      <div class="tab-container">\n        <div class="masonry-container">\n          <div class="services-block" *ngFor="let serviceCategory of servicesData" [ngClass]="{\'services-block-big\': serviceCategory.type === \'content\'}">\n            <span *ngIf="serviceCategory.type === \'content\'">\n              <img [src]="serviceCategory.image" (load)="makeMasonry()">\n              <div class="description">{{ serviceCategory.description }}</div>\n            </span>\n            <span *ngIf="serviceCategory.type !== \'content\'">\n              <div class="header">{{serviceCategory.title_1}}</div>\n              <div class="service content">\n                <span *ngFor="let item of serviceCategory.options">\n                  <div class="item" *ngIf="item.type === \'CHECKBOX\' || item.type === \'RADIOBUTTON\'" [ngClass]="{\'checked\':item.selected}" (click)="toggleService(serviceCategory.title, item.title)"><i class="fa fa-check"></i> {{item.title_1}}</div>\n                    <div class="input-group" *ngIf="item.type === \'INPUTTEXT\'">\n                      <input type="text" [(ngModel)]="servicesData[item.formId].options[item.optionId].input_value" (keyup)="changeValue(item.formId, item.optionId)" (change)="changeValue(item.formId, item.optionId)" (focus)="selectAllContent($event)">\n                      <span class="input-group-addon">{{servicesData[item.formId].options[item.optionId].value_symbol}}</span>\n                    </div>\n                  </span>\n              </div>\n            </span>\n          </div>\n        </div>\n      </div>\n      <app-order [orderData]="orderData" [orderIsFull]="orderIsFull"></app-order>\n    </div>\n  </div>\n  <!-- <div class="footer-container">\n    <div class="copyright">Starbook © 2016 Tutti i diritti riservati</div>\n    <span> • </span><a routerLink="../../profile/privacy">Privacy</a>\n    <span> • </span><a routerLink="../../profile/conditions">Condizioni</a>\n    <span> • </span><a routerLink="../../profile/help">Assistenza</a>\n  </div> -->\n</div>\n<app-landing *ngIf="isServicesView === false"></app-landing>\n<app-loading *ngIf="isLoading" class="services-loader"></app-loading>\n'},function(e,t){e.exports='<div class="col-sm-3 col-md-2 sidebar">\n  <form class="sidebar-container" #orderForm="ngForm" (window:resize)="onResize()">\n    <app-loading *ngIf="isLoading"></app-loading>\n    <div class="sidebar-block">\n      <h2>Dettagli del progetto</h2>\n      <!-- <div class="order-container" *ngIf="!orderIsFull">\n        <div class="order-list-empty"><strong>Inserisci</strong> le informazioni necessari del appuntamento e invia la richiesta.</div>\n      </div> -->\n      <!-- <div class="order-container" *ngIf="orderData.order_options.min_amount > orderData.totalPrice">\n        <div class="order-list-empty"><strong></strong>Prezzo minimo del\'ordine €{{ orderData.order_options.min_amount / 100 }}</div>\n      </div> -->\n      <div class="order-container selected-orders" [ngStyle]="{\'max-height\': maxOrderBlockSize}">\n        <div class="category-group category">\n          <span>{{ orderData.service }}</span>\n        </div>\n        <span  *ngFor="let orderService of orderData.services">\n          <div class="category-group">\n            <span *ngIf="orderService.price_type === \'BASE_AMOUNT_PER_INPUT\'">{{ orderService.name }}<i>{{orderService.option.name}} {{orderService.option.symbol}}</i></span>\n            <span *ngIf="orderService.price_type !== \'BASE_AMOUNT_PER_INPUT\'">{{ orderService.name }}<i>{{orderService.option.name}}</i></span>\n          </div>\n        </span>\n      </div>\n      <!-- <div class="category-group total">\n        <span>Totale <i>€{{ orderData.totalPrice / 100 }}</i></span>\n      </div> -->\n\n      <div class="add-order-form">\n        <div class="form-group calendar-part" [ngClass]="{isError: submitOrder && !Order.date}" *ngIf="isMobileCalendar">\n          <div class="input-group date datepicker-block">\n            <span class="fa fa-calendar"></span>\n            <p-calendar name="dataOra" [(ngModel)]="Order.date" id="dataOraMobile" class="form-control" placeholder="Data" autocomplete="off" dateFormat="dd MM yy" readonlyInput="readonlyInput" [locale]="it" [minDate]="minDate" [maxDate]="maxDate" (onSelect)="selectDate()">\n            </p-calendar>\n          </div>\n        </div>\n        <div class="form-group calendar-part" [ngClass]="{isError: submitOrder && !Order.date}" *ngIf="!isMobileCalendar">\n          <div class="input-group date datepicker-block">\n            <span class="fa fa-calendar"></span>\n            <p-calendar name="dataOra" [(ngModel)]="Order.date" id="dataOra" class="form-control" placeholder="Data" autocomplete="off" dateFormat="dd MM yy" [locale]="it" [minDate]="minDate" [maxDate]="maxDate" (onSelect)="selectDate()">\n            </p-calendar>\n          </div>\n        </div>\n        <div class="form-group time-part" [ngClass]="{isError: Order.time === \'\' && submitOrder}" *ngIf="browser">\n          <div class="input-group date" (clickOutside)="closeTimepicker()">\n            <span class="fa fa-clock-o" (click)="toggleTimepicker()"></span>\n            <input id="timeOra" class="form-control" type="text" name="timeOra" [(ngModel)]="Order.time" value="{{Order.time}}" placeholder="Ora" autocomplete="off" (click)="toggleTimepicker()">\n            <div class="mobileArea" (click)="toggleTimepicker()"></div>\n          </div>\n          <div class="time-picker" *ngIf="timePickerIsShow">\n            <div class="time-elem" *ngFor="let time of timePicker" (click)="selectTime(time)">\n              <span class="fa fa-clock-o"></span> {{time}}</div>\n          </div>\n        </div>\n        <div class="form-group time-part" [ngClass]="{isError: Order.time === \'\' && submitOrder}" *ngIf="!browser">\n          <div class="input-group date"> <!-- is not support if client != browser (clickOutside)="closeTimepicker()" -->\n            <span class="fa fa-clock-o" (click)="toggleTimepicker()"></span>\n            <input id="timeOraServer" class="form-control" type="text" name="timeOra" [(ngModel)]="Order.time" value="{{Order.time}}" placeholder="Ora" autocomplete="off" (click)="toggleTimepicker()">\n            <div class="mobileArea" (click)="toggleTimepicker()"></div>\n          </div>\n          <div class="time-picker" *ngIf="timePickerIsShow">\n            <div class="time-elem" *ngFor="let time of timePicker" (click)="selectTime(time)">{{time}}</div>\n          </div>\n        </div>\n        <div class="form-group" [ngClass]="{isError: !isAddressFull && submitOrder && isAddressDirty}">\n          <div class="input-group date">\n            <span class="fa fa-map-marker"></span>\n            <!--<input type="text" class="form-control" placeholder="Indirizzo" [ngClass]="{\'isError\':isAddressFull === false && isAddressDirty === true}" [(ngModel)]="address" [ngModelOptions]="{standalone: true}" (keyup)="modifyAddress()" (change)="modifyAddress()">-->\n            <p-autoComplete id="luogo" class="form-control text-small" placeholder="Indirizzo" [ngClass]="{\'isError\':isAddressFull === false && isAddressDirty === true}" [(ngModel)]="Order.delivery_address" [ngModelOptions]="{standalone: true}" [suggestions]="addresses" field="formattedAddress" (completeMethod)="getAddresses($event)" (onSelect)="selectAddress($event)">\n            </p-autoComplete>\n          </div>\n          <div class="error-block" *ngIf="!isAddressFull && isAddressDirty && address === \'\'">Inserisci l\'indirizzo esatto</div>\n          <div class="error-block" *ngIf="!isAddressFull && isAddressDirty && address !== \'\' && isAddressOne">Indirizzo non trovato</div>\n          <!--<div class="error-block" *ngIf="!isAddressOne && isAddressDirty && address !== \'\'">Indirizzo non è specifico</div>-->\n        </div>\n        <div class="form-group">\n          <textarea class="form-control" id="nota" name="applicant_description" [(ngModel)]="Order.delivery_description" placeholder="Lascia una nota..."></textarea>\n        </div>\n        <div class="form-group">\n          <button class="btn btn-warning btn-block" (click)="showConfirmation()" [disabled]="!isEnable">Anteprima del progetto</button>\n        </div>\n        <div class="footer-links">\n          <p>\n            Starbook © 2017 •\n            <a routerLink="../../profile/privacy">Privacy</a> •\n            <a routerLink="../../profile/conditions">Condizioni</a> •\n            <a routerLink="../../profile/help">Assistenza</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n'},function(e,t){e.exports='<div class="landing">\n  <div class="header-page">\n    <div class="container">\n      <div class="row">\n        <div class="col-xl-12 landing-header">\n          <h1>Hai bisogno di lavorazioni interni?</h1>\n          <h6>È cosi semplice. Trova il servizio. Calcola il preventivo. Prenota.</h6>\n        </div>\n      </div>\n    </div>\n    <div class="container">\n      <div class="row">\n        <div class="col-xl-12 landing-search">\n          <p-autoComplete [(ngModel)]="query" [suggestions]="results" field="title" scrollHeight="275px" (completeMethod)="search($event)" (onSelect)="selectResult(query)" placeholder="Controsoffitto in cartongesso, Parete in cartongesso..." minLength="0">\n            <template let-res>\n              <div class="search-result" (click)="selectResult(res)">{{ res.title }}</div>\n            </template>\n          </p-autoComplete>\n          <div class="spinner" *ngIf="spinerView">\n            <svg width=\'21px\' height=\'21px\' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ring">\n              <rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect>\n              <circle cx="50" cy="50" r="45" stroke-dasharray="169.64600329384882 113.09733552923257" stroke="#3B568D" fill="none" stroke-width="10">\n                <animateTransform attributeName="transform" type="rotate" values="0 50 50;180 50 50;360 50 50;" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="0s"></animateTransform>\n              </circle>\n            </svg>\n          </div>\n          <div class="close-container" *ngIf="!spinerView && clearView">\n            <span class="close rounded thick" (click)="clearSearchForm()"></span>\n          </div>\n          <div class="ui-autocomplete-panel empty" *ngIf="results.length === 0 && query.length > 0">\n            <div class="no-result">Nessun risultato</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="card-container">\n    <div class="container">\n      <h2>Lavorazioni più richiesti</h2>\n      <div class="row">\n        <div class="col-xl-12 landing-services">\n          <app-loading *ngIf="isLoading"></app-loading>\n          <div class="services-card" *ngFor="let service of services" (click)="selectResult(service)">\n            <div class="service-container" [style.background-image]="\'url(\' + service.image_url + \')\'">\n              <div class="shadow"></div>\n              <div class="header">{{ service.title }}</div>\n              <div class="service-footer">\n                A PARTIRE DA <span>€{{ service.order_options.min_amount / 100 }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="why-container">\n    <div class="container">\n      <h2>Perché usare Starbook?</h2>\n      <div class="row">\n        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 why-cell">\n          <div class="text-center">\n            <img src="../../../assets/images/star_quality.png" class="rounded mx-auto d-block" alt="...">\n            <h3>Lavorazioni di alta qualità</h3>\n            <h4>I servizi su Starbook vengono eseguiti dalle migliori aziende. Usando un algoritmo di ricerca, Starbook trova l’azienda più vicina alla tua abitazione.</h4>\n          </div>\n        </div>\n        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 why-cell">\n          <div class="text-center">\n            <img src="../../../assets/images/market-price.png" class="rounded mx-auto d-block" alt="...">\n            <h3>Prezzo garantito dal mercato</h3>\n            <h4>I prezzi su Starbook vengono calcolati da un algoritmo interno della piattaforma per rendere più equo e trasparente il mercato.</h4>\n          </div>\n        </div>\n        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 why-cell">\n          <div class="text-center">\n            <img src="../../../assets/images/timing.png" class="rounded mx-auto d-block" alt="...">\n            <h3>Preventivo diretto</h3>\n            <h4>Una volta scelto il servizio, seleziona i form secondo le esigenze e calcola il preventivo direttamente dalla piattaforma.</h4>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- <div class="partner-container">\n    <div class="container">\n      <h2>Le migliori aziende partner</h2>\n      <div class="list-brands-scrollable">\n        <img src="../../../assets/images/partner-example.png">\n        <img src="../../../assets/images/partner-example.png">\n        <img src="../../../assets/images/partner-example.png">\n        <img src="../../../assets/images/partner-example.png">\n        <img src="../../../assets/images/partner-example.png">\n        <img src="../../../assets/images/partner-example.png">\n        <img src="../../../assets/images/partner-example.png">\n        <img src="../../../assets/images/partner-example.png">\n        <img src="../../../assets/images/partner-example.png">\n      </div>\n    </div>\n  </div> -->\n  <div class="pre-footer-container">\n    <div class="container">\n      <div class="row">\n        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12">\n          <h4>Sicurezza del sito</h4>\n          <div class="list-security">\n            <img src="../../../assets/images/norton.png">\n            <img src="../../../assets/images/secure.png">\n            <img src="../../../assets/images/trust.png">\n          </div>\n        </div>\n        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12">\n          <h4>Sistemi di pagamento</h4>\n          <div class="list-payment-methods">\n            <img src="../../../assets/images/mastercard.png">\n            <img src="../../../assets/images/visa.png">\n            <img src="../../../assets/images/americanexpress.png">\n            <img src="../../../assets/images/stripe.png">\n          </div>\n        </div>\n        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12">\n          <h4>Contatti</h4>\n          <div class="list-contact-methods">\n            <h4>Attivo 24/7</h4>\n            <h4>Cellulare: +39 327 24 15 028</h4>\n            <h4>Email: info@starbook.co</h4>\n            <h4>Via Luigi Pirandello 21, Busto Arsizio VA</h4>\n          </div>\n        </div>\n        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12">\n          <h4>Seguici su</h4>\n          <div class="list-socials">\n            <a href="https://www.facebook.com/starbook.co/" target="_blank"><img src="../../../assets/images/facebook.png"></a>\n            <a href="https://twitter.com/starbookco/" target="_blank"><img src="../../../assets/images/twitter.png"></a>\n            <a href="https://www.instagram.com/starbook.co/" target="_blank"><img src="../../../assets/images/instagram.png"></a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="footer-container">\n    <div class="container">\n      <div class="copyright"><strong>Starbook</strong> © 2017 Tutti i diritti riservati</div>\n      <span> • </span><a routerLink="profile/privacy">Privacy</a>\n      <span> • </span><a routerLink="profile/conditions">Condizioni</a>\n      <span> • </span><a routerLink="profile/help">Assistenza</a>\n    </div>\n  </div>\n  <!-- <div class="container landing-top-header">\n    <div class="row">\n      <h1>Prenota il servizio di cui hai bisogno, nell\'ora e il giorno che desideri</h1>\n    </div>\n  </div> -->\n  <!-- <div class="container">\n    <div class="row">\n      <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 top-cards">\n        <div class="top-card">\n          <div class="header">Starbook <span>services</span></div>\n          <p>Seleziona uno dei servizi su Starbook, imposta la data, ora, indirizzo e conferma l’ordine. Verrai notificato con un sms e una mail quando l’ordine e stato accettato da un professionista qualificato.</p>\n        </div>\n      </div>\n      <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 top-cards">\n        <div class="top-card">\n          <div class="card-background">\n            <div class="image image-1"></div>\n            <div class="white-background" [ngStyle]="{\'opacity\':cardStyles[1]}"></div>\n          </div>\n          <div class="header">Pulizie</div>\n          <div class="description">Hai bisogno di un servizio di pulizie per la casa, l’ufficio o il negozio?</div>\n          <div class="landing-card-footer">\n            <a (click)="navigate(\'584fcfee9d6752423a61e79e\')" class="btn btn-warning" (mouseenter)="cardHover(1, \'on\')" (mouseleave)="cardHover(1, \'off\')">Prenota Pulizie</a>\n          </div>\n        </div>\n      </div>\n      <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 top-cards">\n        <div class="top-card">\n          <div class="card-background">\n            <div class="image image-2"></div>\n            <div class="white-background" [ngStyle]="{\'opacity\':cardStyles[2]}"></div>\n          </div>\n          <div class="header">Elettricista</div>\n          <div class="description">Ti serve un elettricista qualificato e affidabile per lavori di casa, ufficio o negozio?</div>\n          <div class="landing-card-footer">\n            <a (click)="navigate(\'582ee41df1bafa41cdbfb9d1\')" class="btn btn-warning" (mouseenter)="cardHover(2, \'on\')" (mouseleave)="cardHover(2, \'off\')">Prenota Elettricista</a>\n          </div>\n        </div>\n      </div>\n      <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 top-cards">\n        <div class="top-card green-card">\n          <div class="card-background">\n            <div class="image image-3"></div>\n            <div class="white-background" [ngStyle]="{\'opacity\':cardStyles[3]}"></div>\n          </div>\n          <div class="header">Idraulico</div>\n          <div class="description">Ti serve un idraulico professionista, puoi prenotarlo subito su Starbook senza impegno.</div>\n          <div class="landing-card-footer">\n            <a (click)="navigate(\'582edfe4f1bafa41cdbfb9cb\')" class="btn btn-warning" (mouseenter)="cardHover(3, \'on\')" (mouseleave)="cardHover(3, \'off\')">Prenota Idraulico</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="container">\n    <div class="row">\n      <div class="center-description">\n        Rendi la tua vita più facile. Prenota il servizio di cui hai bisogno.\n      </div>\n    </div>\n  </div>\n  <div class="container">\n    <div class="row">\n      <div class="col-xl-12 landing-header">\n        <h1>Come funziona?</h1>\n      </div>\n      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6 how-to-block">\n        <div class="how-to-content">\n          <div class="top-part">\n            <div class="product-image"></div>\n          </div>\n          <div class="header">Seleziona i servizi</div>\n          <p>Ogni categoria ha una lista di servizi. Seleziona quelli di qui hai bisogno.</p>\n        </div>\n      </div>\n      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6 how-to-block">\n        <div class="how-to-content">\n          <div class="top-part">\n            <div class="order-image"></div>\n          </div>\n          <div class="header">Prenota un appuntamento</div>\n          <p>Inserisci i dati necessari del ordine e invia la richiesta.</p>\n        </div>\n      </div>\n      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6 how-to-block">\n        <div class="how-to-content">\n          <div class="top-part">\n            <div class="landing-form">\n              <a class="btn btn-warning">Invia richiesta</a>\n              <div class="icons-block">\n                <a><i class="fa fa-bell"></i></a>\n                <a><i class="fa fa-envelope"></i></a>\n                <a><i class="fa fa-commenting"></i></a>\n              </div>\n            </div>\n          </div>\n          <div class="header">Ricevi la conferma e rilassati!</div>\n          <p>Un professionista si presenterà nella data e l’ora del appuntamento.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="container">\n    <div class="row">\n      <div class="col-xl-12 landing-header">\n        <h1>Le principali città</h1>\n      </div>\n      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6 banner">\n        <a href="#" class="banner-1">\n          <div class="background"></div>\n          <span>Varese</span>\n        </a>\n      </div>\n      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6 banner">\n        <a href="#" class="banner-2">\n          <div class="background"></div>\n          <span>Milano</span>\n        </a>\n      </div>\n      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6 banner">\n        <a href="#" class="banner-3">\n          <div class="background"></div>\n          <span>Torino</span>\n        </a>\n      </div>\n    </div>\n  </div>\n  <div class="container">\n    <div class="row">\n      <div class="footer-description">\n        Starbook è la piattaforma che ti da la possibilità di prenotare i professionisti nell\'ora e data che tu desideri senza dover chiamare e lasciare appuntamenti tramite telefono o email.\n      </div>\n    </div>\n  </div> -->\n</div>\n'},function(e,t){e.exports='<div class="container-starbook without-tabs">\n  <div class="row">\n    <div class="left-navigate">\n      <a *ngFor="let tab of tabs" [ngClass]="{\'active\':tab.selected}" (click)="renderPage(tab.name)">\n        <span></span>\n        <div>{{tab.name}}</div>\n      </a>\n    </div>\n    <div class="col-xl-12 orders-container">\n      <app-loading *ngIf="isLoading"></app-loading>\n      <div class="orders-error" *ngIf="pageData.length === 0 && requestIsComplete">{{emptyListTitle}}</div>\n      <div class="order-information" *ngFor="let order of pageData">\n        <div class="header">\n          <div class="category-services-state" *ngIf="order.status === 1 && dateCompare(dateFormating(\'now\'), order.date) && selectTab === \'Richieste dei clienti\'">\n            <span class="orange"></span> Servizio in corso...\n          </div>\n          <!--<div class="category-services-state" *ngIf="order.status === 2 && selectTab === \'Richieste dei clienti\'">-->\n            <!--<span class="orange"></span> In attesa di pagamento...-->\n          <!--</div>-->\n          <div class="category-services-state" *ngIf="order.status === 0 && selectTab === \'Richieste dei clienti\'">\n            <span class="green"></span> In attesa di conferma\n          </div>\n          <div class="category-services-state" *ngIf="order.status === 1 && dateCompare(order.date, dateFormating(\'now\')) && selectTab === \'Richieste dei clienti\'">\n            <span class="orange"></span> Assegnato\n          </div>\n\n\n          <div class="category-services-state" *ngIf="order.status === 99 && selectTab === \'I miei ordini\'">\n            <span class="red"></span> Annullato\n          </div>\n          <div class="category-services-state" *ngIf="order.status === 0 && selectTab === \'I miei ordini\'">\n            <span class="green"></span> In attesa di conferma\n          </div>\n          <div class="category-services-state" *ngIf="order.status === 1 && dateCompare(order.date, dateFormating(\'now\')) && selectTab === \'I miei ordini\'">\n            <span class="orange"></span> Assegnato\n          </div>\n          <!--<div class="category-services-state" *ngIf="order.status === 2 && selectTab === \'Richiesti\'">-->\n            <!--<span class="orange"></span> In attesa di pagamento...-->\n          <!--</div>-->\n          <div class="category-services-state" *ngIf="order.status === 1 && dateCompare(dateFormating(\'now\'), order.date) && selectTab === \'I miei ordini\'">\n            <span class="orange"></span> Servizio in corso...\n          </div>\n\n\n\n          <div class="category-services-state" *ngIf="order.status === 0 && selectTab === \'Archivio\'">\n            <span class="black"></span> Scaduto\n          </div>\n          <div class="category-services-state" *ngIf="order.status === 98 && selectTab === \'Archivio\'">\n            <span class="orange"></span> Completato\n          </div>\n          <div class="category-services-state" *ngIf="order.status === 99 && selectTab === \'Archivio\'">\n            <span class="red"></span> Annullato\n          </div>\n          <div class="category-name">\n            {{ categories[order.category_type] }}\n          </div>\n          <div class="order-date">\n            {{ dateFormating(order.date) }}\n          </div>\n        </div>\n        <div class="order-body">\n          <div class="row">\n            <div class="order-row products col-xl-4">\n              <!-- <div class="item" *ngFor="let product of order.details" [ngClass]="{\'service\':product.type === \'service\'}">{{ product.title }} <i *ngIf="product.type !== \'service\' && product.amount > 0">€{{ product.amount / 100 }}</i></div>\n              <div class="item total">Totale <i>€{{ order.payment.amount / 100 }}</i></div> -->\n              <div class="item" *ngFor="let product of order.details" [ngClass]="{\'service\':product.type === \'service\'}">{{ product.title }} <i *ngIf="product.type !== \'service\'">{{ product.description }}</i></div>\n              <!-- <div class="item total">Totale <i>€{{ order.payment.amount / 100 }}</i></div> -->\n            </div>\n\n            <div class="client-info col-xl-4" *ngIf="selectTab === \'Richieste dei clienti\'">\n              <div *ngIf="order.status===0">\n              </div>\n              <div class="item">\n                <div class="field-name">Cliente:</div>\n                <div class="field-value"><strong>{{ order.customer.profile.fullname }}</strong></div>\n              </div>\n              <div class="item">\n                <div class="field-name">Cellulare:</div>\n                <div class="field-value">{{ order.customer.phone_number | phone }}</div>\n              </div>\n              <div class="item">\n                <div class="field-name">Email:</div>\n                <div class="field-value">{{ order.customer.email }}</div>\n              </div>\n\n              <!-- <div *ngIf="order.status===1">\n                <div class="item">\n                  <div class="field-name">Cliente:</div>\n                  <div class="field-value"><strong>{{ order.merchant.profile.fullname }}</strong></div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Cellulare:</div>\n                  <div class="field-value">{{ order.customer.phone_number | phone }}</div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Email:</div>\n                  <div class="field-value">{{ order.customer.email }}</div>\n                </div>\n              </div> -->\n\n              <div class="item">\n                <div class="field-name">Indirizzo:</div>\n                <div class="field-value">\n                  {{ order.address.street }}, {{ order.address.street_number }}<br>\n                  {{ order.address.city }}, {{ order.address.postal_code }}<br>\n                  {{ order.address.province }}, {{ order.address.country }}\n                </div>\n              </div>\n            </div>\n\n            <div class="client-info col-xl-4" *ngIf="selectTab === \'I miei ordini\'">\n              <div *ngIf="!order.merchant || order.merchant === null || order.status===0">\n                <div class="item">\n                  <div class="field-name">Professionista:</div>\n                  <div class="field-value"><strong>In attesa di conferma...</strong></div>\n                </div>\n              </div>\n              <div *ngIf="order.merchant && order.merchant !== null && order.status===1">\n                <div class="item">\n                  <div class="field-name">Professionista:</div>\n                  <div class="field-value"><strong>{{ order.merchant.profile.fullname }}</strong></div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Cellulare:</div>\n                  <div class="field-value">{{ order.merchant.phone_number | phone }}</div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Email:</div>\n                  <div class="field-value">{{ order.merchant.email }}</div>\n                </div>\n              </div>\n              <div class="item">\n                <div class="field-name">Indirizzo:</div>\n                <div class="field-value">\n                  {{ order.address.street }}, {{ order.address.street_number }}<br>\n                  {{ order.address.city }}, {{ order.address.postal_code }}<br>\n                  {{ order.address.province }}, {{ order.address.country }}\n                </div>\n              </div>\n            </div>\n\n            <div class="client-info col-xl-4" *ngIf="selectTab === \'Archivio\'">\n              <div *ngIf="(order.customer || order.customer !== null) && order.status===98 && authData._id !== order.customer_id">\n                <div class="item">\n                  <div class="field-name">Cliente:</div>\n                  <div class="field-value"><strong>{{ order.customer.profile.fullname }}</strong></div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Cellulare:</div>\n                  <div class="field-value">{{ order.customer.phone_number | phone }}</div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Email:</div>\n                  <div class="field-value">{{ order.customer.email }}</div>\n                </div>\n              </div>\n              <div *ngIf="(order.customer || order.customer !== null) && order.status===98 && authData._id === order.customer_id">\n                <div class="item">\n                  <div class="field-name">Professionista:</div>\n                  <div class="field-value"><strong>{{ order.merchant.profile.fullname }}</strong></div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Cellulare:</div>\n                  <div class="field-value">{{ order.merchant.phone_number | phone }}</div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Email:</div>\n                  <div class="field-value">{{ order.merchant.email }}</div>\n                </div>\n              </div>\n              <div *ngIf="order.customer && order.customer !== null && (!order.merchant || order.merchant === null) && order.status===0">\n                <div class="item">\n                  <div class="field-name">Cliente:</div>\n                  <div class="field-value"><strong>{{ order.customer.profile.fullname }}</strong></div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Cellulare:</div>\n                  <div class="field-value">{{ order.customer.phone_number | phone }}</div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Email:</div>\n                  <div class="field-value">{{ order.customer.email }}</div>\n                </div>\n              </div>\n              <div *ngIf="order.status===99">\n                <div class="item">\n                  <div class="field-name">Cliente:</div>\n                  <div class="field-value"><strong>{{ order.customer.profile.fullname }}</strong></div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Cellulare:</div>\n                  <div class="field-value">{{ order.customer.phone_number | phone }}</div>\n                </div>\n                <div class="item">\n                  <div class="field-name">Email:</div>\n                  <div class="field-value">{{ order.customer.email }}</div>\n                </div>\n              </div>\n              <div class="item">\n                <div class="field-name">Indirizzo:</div>\n                <div class="field-value">\n                  {{ order.address.street }}, {{ order.address.street_number }}<br>\n                  {{ order.address.city }}, {{ order.address.postal_code }}<br>\n                  {{ order.address.province }}, {{ order.address.country }}\n                </div>\n              </div>\n            </div>\n\n            <div class="order-row description col-xl-4">\n              {{ order.description }}\n            </div>\n          </div>\n        </div>\n        <div class="order-footer">\n          <div class="code">\n            <span>CODICE:</span>\n            {{ order._id }}\n          </div>\n          <div class="buttons">\n            <button class="btn btn-primary" *ngIf="order.status === 1 && dateCompare(dateFormating(\'now\'), order.date) && selectTab === \'Richieste dei clienti\' && isVendor === true" (click)="completaOrder(order._id)">Completa servizio</button>\n            <div class="price-block"><div class="content-price">Preventivo: <span>{{ order.payment.amount / 100 }}€</span></div></div>\n            <!--<div class="price-block" *ngIf="order.status === 2 && selectTab === \'Richieste dei clienti\'"><div class="content-price">Importo: <span>{{ order.payment.amount / 100 }}€</span></div></div>-->\n            <!--<button class="btn btn-secondary" *ngIf="order.status === 2 && selectTab === \'Richieste dei clienti\'" (click)="editOrder(order._id, order.payment.amount)">Modifica</button>-->\n            <button class="btn btn-primary" *ngIf="order.status === 0 && selectTab === \'Richieste dei clienti\' && isVendor === true" (click)="confirmOrder(order._id)">Conferma servizio</button>\n\n            <!--<button class="btn btn-primary" *ngIf="order.status === 99 && selectTab === \'I miei ordini\'" (click)="reactivateOrder(order._id)">Reattiva servizio</button>-->\n            <!--<button class="btn btn-secondary" *ngIf="order.status === 0 && selectTab === \'I miei ordini\'" (click)="cancelOrder(order._id)">Annulla servizio</button>-->\n            <!--<div class="price-block" *ngIf="order.status === 2 && selectTab === \'I miei ordini\'"><div class="content-price">Importo: <span>{{ order.payment.amount / 100 }}€</span></div></div>-->\n            <!--<button class="btn btn-warning" *ngIf="order.status === 2 && selectTab === \'I miei ordini\'" (click)="continueOrder(order._id, order.payment.amount)"><i class="fa fa-lock"></i> Procedi</button>-->\n            <!--<div class="price-block archive" *ngIf="order.status === 3 && selectTab === \'Archivio\'"><div class="content-price">Importo: <span>{{ order.payment.amount / 100 }}€</span></div></div>-->\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';
},function(e,t){e.exports='<!-- <div class="loader" *ngIf="isLoading"></div> -->\n<div class="profile-page" [ngClass]="{whiteBg: selectTab === \'conditions\' || selectTab === \'privacy\' || selectTab === \'help\'}">\n  <div class="container-starbook without-tabs">\n    <div class="row">\n      <div class="left-navigate" (swipeleft)="swipe($event.type, $event.deltaX)" (swiperight)="swipe($event.type, $event.deltaX)">\n        <div [ngStyle]="{\'margin-left.px\': delta}">\n          <a *ngFor="let tab of tabs" [ngClass]="{\'active\':tab.url === selectTab}" [routerLink]="[\'/profile\', tab.url]">\n            <span></span>\n            <div>{{tab.name}}</div>\n          </a>\n          <a *ngIf="isAuthenticated === true" (click)="logout()"><span></span><div>Esci</div></a>\n        </div>\n      </div>\n      <div class="profile-settings" *ngIf="selectTab === \'settings\'">\n        <div class="header">Informazioni del account</div>\n        <form #changProfile="ngForm">\n          <app-loading *ngIf="isLoading"></app-loading>\n          <label>NOME COMPLETO</label>\n          <div class="form-group">\n            <input class="form-control" name="name" placeholder="Nome Cognome" #fullname="ngModel" [(ngModel)]="userData.fullname" required>\n          </div>\n          <!--<div class="form-group">-->\n            <!--<label>Cognome</label>-->\n            <!--<input class="form-control" name="lastname" #fullname="ngModel" [(ngModel)]="userData.lastname" required disabled>-->\n          <!--</div>-->\n          <!--<div class="form-group">-->\n            <!--<label>Nome Azienda</label>-->\n            <!--<input class="form-control" name="patronymic" #fullname="ngModel" [(ngModel)]="userData.patronymic" required disabled>-->\n          <!--</div>-->\n          <label>CELLULARE</label>\n          <div class="form-group">\n            <input class="form-control" name="phone" placeholder="Numero" #phone_number="ngModel" [(ngModel)]="userData.phone_number">\n          </div>\n          <label>EMAIL</label>\n          <div class="form-group">\n            <div class="email-field">\n              <input class="form-control" name="email" placeholder="Indirizzo email" value="" #email="ngModel" [(ngModel)]="userData.email" required disabled>\n              <button type="button" class="btn btn-primary" (click)="getPopup(\'changePassword\')" disabled>Modifica password</button>\n            </div>\n          </div>\n          <!--<div class="form-group password-block">-->\n            <!--<label>Password</label>-->\n            <!--<div class="password-container">-->\n              <!--<div class="password">-->\n                <!--<span>•••••••••••</span>-->\n              <!--</div>-->\n              <!--<div class="change-password">-->\n                <!--<button type="button" class="btn btn-primary" (click)="getPopup(\'changePassword\')">Modifica password</button>-->\n              <!--</div>-->\n            <!--</div>-->\n          <!--</div>-->\n          <!-- <div class="header second">Indirizzo di fatturazione</div> -->\n          <!-- <label>Indirizzo del domicilio</label>\n          <div class="form-group">\n            <input class="form-control" name="address1" #street="ngModel" [(ngModel)]="userData.street" placeholder="Via Verdi 13">\n          </div> -->\n          <!-- <label>Città e CAP</label>\n          <div class="form-group double-input">\n            <input class="form-control first" name="address2" #city="ngModel" [(ngModel)]="userData.city" placeholder="Città">\n            <input class="form-control second" name="number2" #postal_code="ngModel" [(ngModel)]="userData.postal_code" placeholder="CAP">\n          </div> -->\n          <!-- <label>Provincia e Nazione</label>\n          <div class="form-group double-input">\n            <input class="form-control first" name="city" #province="ngModel" [(ngModel)]="userData.province" placeholder="Provincia">\n            <input class="form-control second" name="country" #country="ngModel" [(ngModel)]="userData.country" placeholder="Nazione">\n          </div> -->\n          <!-- <label>Partita IVA</label>\n          <div class="form-group">\n            <input class="form-control" name="piva" placeholder="P.IVA">\n          </div> -->\n          <!-- <label>Codice Fiscale</label>\n          <div class="form-group">\n            <input class="form-control" name="codice" placeholder="Codice Fiscale">\n          </div> -->\n          <div class="profile-information" *ngIf="formError">\n            <strong *ngIf="formError.title.length > 0">{{formError.title}}</strong> {{formError.message}}\n          </div>\n          <div class="form-group">\n            <button type="button" class="btn btn-warning" (click)="updateProfile()">Aggiorna Informazioni</button>\n          </div>\n          <!--<div class="form-group">-->\n            <!--<button type="button" class="btn btn-secondary" (click)="logout()"><span class="fa fa-sign-out"></span> Log out</button>-->\n          <!--</div>-->\n        </form>\n      </div>\n      <div class="cards-page" *ngIf="selectTab === \'payment\'">\n        <app-loading *ngIf="isLoading"></app-loading>\n        <div class="card-block" *ngFor="let card of cards">\n          <div class="container">\n            <div class="header">\n              <div class="card-logo {{ formatCssClass(card.brand) }}"><span>**** {{ card.last4 }}</span></div>\n              <div class="isDefault" *ngIf="defaultCard === card.id">Default</div>\n              <div class="buttons-block">\n                <a class="btn btn-primary" *ngIf="defaultCard !== card.id" (click)="selectCard(card.id)">Default</a>\n                <a class="btn btn-primary" (click)="deleteCard(card.id)">Rimuovi</a>\n                <a class="btn btn-secondary" (click)="editCard(card.id)">Modifica</a>\n              </div>\n            </div>\n            <div class="content">\n              <div class="card-information">\n                <div class="information-block">\n                  <span>Nome:</span>\n                  {{ card.name }}\n                </div>\n                <div class="information-block">\n                  <span>Numero:</span>\n                  **** {{ card.last4 }}\n                </div>\n                <div class="information-block">\n                  <span>Scadenza:</span>\n                  {{ card.exp_month }}/{{ formatYear(card.exp_year) }}\n                </div>\n                <div class="information-block">\n                  <span>Tipo:</span>\n                  {{ card.brand }} {{ card.funding }} {{ card.object }}\n                </div>\n              </div>\n              <div class="card-information">\n                <div class="information-block">\n                  <span>Indirizzo:</span>\n                  {{ card.address_line1 }} {{ card.address_line2 }} <br>\n                  {{ card.address_state }} {{ card.address_city }} <br>\n                  {{ card.address_zip }} {{ card.address_country }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="card-block">\n          <a class="new-card" (click)="addNewCard()">\n            Aggiungi un metodo di pagamento\n          </a>\n        </div>\n      </div>\n      <div class="content-page" *ngIf="selectTab === \'conditions\'">\n        <p><strong>1. ACCESSO E REGOLAMENTO DEL SITO STARBOOK</strong></p>\n        <p><strong>1.1. Accesso al Sito: </strong>E’ possibile avere accesso ad alcune aree del Sito web anche senza effettuare un Ordine o senza procedere alla registrazione dei propri dati. La maggior parte delle aree del Sito sono accessibili a chiunque.<br>\n        <strong>1.2. Accettazione del Regolamento del Sito:</strong> La navigazione in qualunque area del Sito comporta l\'accettazione del Regolamento del Sito. I visitatori ed utenti del Sito che rifiutino di accettare il Regolamento del Sito sono tenuti a lasciare immediatamente il Sito e non avranno la possibilità di ordinare servizi tramite il Sito stesso.<br>\n        <strong>1.3. Modifiche al Regolamento del Sito:</strong> STARBOOK ha facoltà di modificare il presente Regolamento del Sito in qualsiasi momento. Occorre pertanto controllare periodicamente il Regolamento del Sito in vigore al momento poiché essa vincola i visitatori e gli utenti del Sito. I visitatori e utenti del Sito sono tenuti al rispetto delle policy e della disciplina in vigore al momento in cui effettuano un Ordine tramite STARBOOK.<br>\n        <strong>1.4. Responsabilità:</strong> Spetta ai visitatori e utenti del Sito predisporre quanto necessario per avere accesso al Sito stesso. Inoltre, i visitatori e utenti del Sito sono tenuti a garantire che tutti coloro che hanno accesso al Sito tramite la loro connessione ad Internet siano a conoscenza del presente Regolamento del Sito e la rispettino.</p>\n        <p><strong>2. STATUS DELL’UTENTE DEL SITO STARBOOK</strong></p>\n        <p><strong>2.1. Capacità giuridica ed età: </strong>Effettuando un Ordine tramite il Sito, l’utente garantisce:<br>\n        <strong>2.1.1.</strong> di aver la capacità di agire e concludere contratti giuridicamente vincolanti<br>\n        <strong>2.1.2.</strong> di avere compiuto 18 anni</p>\n        <p><strong>3. MODALITÀ DI EMISSIONE DELL ORDINE E DI ELABORAZIONE DELL’ORDINE</strong></p>\n        <p><strong>3.1. Compilazione dell’Ordine: </strong>Dopo aver selezionato il servizio che intende ordinare da un professionista prescelto dalla piattaforma ed aver fornito le informazioni, l’utente ha facoltà di effettuare l’Ordine cliccando sul, o selezionando il, pulsante “Procedi con l\'ordine” e “Procedi con l\'acquisto”. Si ricorda che è importante controllare tutte le informazioni immesse e correggere eventuali errori prima di cliccare sul pulsante o di selezionarlo poiché, dopo averlo fatto, il procedimento di elaborazione dell’Ordine ha inizio e non è più possibile correggere eventuali errori.<br>\n        <strong>3.2. Modifica o annullamento dell’Ordine: </strong>Una volta che l’Ordine è stato inoltrato e il pagamento è stato autorizzato non è più possibile modificare o annullare l’Ordine e non si ha diritto ad alcun rimborso. Ove desideri modificare o annullare l’Ordine, l’utente può rivolgersi al Servizio Clienti, il quale tenterà di contattare il professionista al fine di comunicargli la richiesta dell’utente. Non vi è alcuna assicurazione, tuttavia, riguardo al fatto che il Servizio Clienti sarà in grado di contattare il professionista o che il professionista accetterà le richieste dell’utente in quanto il processo di elaborazione dell’Ordine potrebbe avere già avuto inizio. Il cliente, ai sensi dell\'art. 55 lett. a) del Codice del Consumo, non ha diritto a recedere dagli Ordini effettuati una volta che il bene o servizio richiesto è stato consegnato.<br>\n        <strong>3.3. Autorizzazione al pagamento:</strong> In caso di mancata autorizzazione relativa ad un qualsiasi pagamento, l’Ordine non viene elaborato o non viene comunicato alla piattaforma.<br>\n        <strong>3.4. Elaborazione dell’Ordine e rifiuto di Ordini da parte del professionista: </strong>Alla ricezione dell’Ordine, STARBOOK ne inizia l’elaborazione con la trasmissione dello stesso ai professionisti interessati e notifica all’utente, tramite sms e mail, che l’Ordine è stato assegnato. Si specifica che qualsiasi pagina di conferma che l’utente possa visualizzare sul Sito e qualsiasi conferma di Ordine che l’utente stesso riceva tramite e-mail indicano esclusivamente che l\'Ordine dell’utente è stato assegnato o è in corso. STARBOOK incoraggia tutti i propri professionisti ad accettare tutti gli Ordini ed a comunicare tempestivamente eventuali rifiuti, e comunica all’utente (generalmente tramite e-mail) non appena sia ragionevolmente possibile ogni eventuale rifiuto da parte del professionista. In ogni caso, i professionisti possono scegliere di rifiutare gli Ordini in qualsiasi momento per il fatto di essere eccessivamente impegnati, a causa delle condizioni atmosferiche o per qualsiasi altra ragione.<br>\n        <strong>3.5. Finitura del servizio:</strong> I tempi stimati per i servizi dal inizio a fine lavori variano tra 1-2 giorni a seconda del tipo di servizio ordinato. STARBOOK e i professionisti non garantiscono che i servizi verranno finiti entro i tempi stimati.</p>\n        <p><strong>4. PREZZO E PAGAMENTO</strong></p>\n        <p><strong>4.1. IVA e costi di servizio:</strong> I prezzi sono quelli indicati sul Sito. I prezzi sono comprensivi di IVA. Tali costi vengono aggiunti all’importo totale dovuto, se applicabili.<br>\n        <strong>4.2. Errata indicazione del prezzo:</strong> Il presente Sito web contiene un vasto numero di menu ed è sempre possibile che alcuni di essi possano recare una indicazione inesatta del prezzo. Qualora il prezzo esatto di un Ordine sia più elevato del prezzo indicato sul Sito, STARBOOK normalmente provvede a contattare l’utente prima della spedizione dell\'Ordine. In tal caso, né STARBOOK né il professionista interessato hanno alcun obbligo di assicurare che l\'Ordine venga fornito all’utente al prezzo inferiore erroneamente indicato né di rimborsare all’utente la differenza rispetto al prezzo errato. In caso il prezzo sia eccessivamente elevato rispetto al prezzo originariamente convenuto e l\'utente sia un consumatore ai sensi del Codice del Consumo, l\'utente avrà facoltà di recedere dall\'Ordine.<br>\n        <strong>4.3. Modalità di pagamento:</strong> Il pagamento dei servizi deve essere effettuato mediante una carta di credito/debito.<br>\n        <p><strong>5. SERVIZIO CLIENTI</strong></p>\n        <p><strong>5.1 Disposizioni Generali:</strong> STARBOOK considera il Servizio Clienti estremamente importante. Il Servizio Clienti cerca dunque di prestare assistenza all’utente, quando possibile, in caso di problemi con l\'Ordine. L’utente può entrare in contatto con il Servizio Clienti andando sulla pagina help del sito.<br>\n        <strong>5.2. Modifica o annullamento dell\'Ordine:</strong> Ove l’utente desideri modificare o annullare il proprio Ordine dopo che esso sia stata inoltrato e il relativo pagamento autorizzato, l’utente ha facoltà di rivolgersi al Servizio Clienti STARBOOK, con le modalità sopra descritte, il quale tenterà di entrare in contatto con il professionista al fine di comunicare le richieste del cliente. Non vi è alcuna assicurazione, tuttavia, riguardo al fatto che il Servizio Clienti STARBOOK sarà in grado di contattare il professionista o che il professionista accetterà le richieste dell’utente in quanto il processo di elaborazione dell\'Ordine potrebbe avere già avuto inizio.<br>\n        <strong>5.3. Reclami e feedback da parte degli utenti:</strong> Nell’eventualità che l’utente non sia soddisfatto della qualità di un qualsiasi servizio o del servizio fornito da un professionista, STARBOOK invita l’utente a far conoscere la propria opinione tramite il Sito, in forma di valutazioni, commenti e recensioni che riflettano la propria esperienza. Le Recensioni sono una parte importante del processo di controllo qualità di STARBOOK.<br>\n        <strong>5.4. Risarcimento:</strong> Nell’eventualità che l’utente non sia soddisfatto della qualità di un qualsiasi servizio o del servizio fornito da un professionista e desideri richiedere un rimborso, una riduzione proporzionale del prezzo o qualsiasi altra forma di risarcimento, è tenuto a contattare direttamente il professionista al fine di presentare il proprio reclamo e, se del caso, ad osservare le procedure di reclamo previste dal professionista stesso. Qualora l’utente non sia in grado di contattare il professionista, o qualora il professionista rifiuti di occuparsi del reclamo dell’utente, quest’ultimo può rivolgersi al Servizio Clienti STARBOOK con le modalità sopra descritte entro 48 ore dall’inoltro dell\'Ordine e uno dei Consulenti del Servizio Clienti STARBOOK tenterà di contattare il professionista al fine di richiedere un risarcimento per conto dell’utente. Si fa presente che STARBOOK non ha alcun controllo sui professionisti né sulla qualità dei servizi o sul servizio fornito dai professionisti stessi e non è in grado di fornire, né assume alcuna responsabilità o impegno di fornire, alcun risarcimento in favore dell’utente per conto di qualsiasi professionista.</p>\n        <p><strong>6. LICENZA D’USO</strong></p>\n        <p><strong>6.1. Uso consentito:</strong> E’ consentito all’utente utilizzare il Sito nonché stampare e scaricare dal Sito estratti del Sito stesso per uso personale non avente finalità commerciali alle seguenti condizioni:<br>\n        <strong>6.1.1. l’utente non deve utilizzare il Sito in modo improprio, ivi incluso mediante tecniche di pirateria informatica (hacking) o di estrazione informatizzata di dati (scraping).</strong> <br>\n        <strong>6.1.2. Restrizioni d’uso:</strong> Salvo per quanto previsto al paragrafo 6.1, il presente Sito non può essere utilizzato e nessuna sua parte può essere riprodotta o archiviata in alcun altro sito web né può essere inserito in alcun sistema o servizio, pubblico o privato, per il recupero elettronico delle informazioni senza la preventiva autorizzazione scritta di STARBOOK.<br>\n        <strong>6.1.3. Riserva di Diritti:</strong> I diritti non esplicitamente concessi nel presente Sito web sono riservati.</p>\n        <p><strong>7. ACCESSO AL SERVIZIO</strong></p>\n        <p><strong>7.1. Disponibilità del Sito:</strong> Sebbene STARBOOK si adoperi per far sì che l’accesso al Sito possa di norma avvenire ventiquattro ore su ventiquattro (24h/24), STARBOOK non assume alcun obbligo a riguardo e non è responsabile nei confronti dell’utente nel caso in cui il Sito, in qualsiasi momento o per periodi di qualsiasi durata, non sia disponibile.<br>\n        <strong>7.1. Sospensione dell’accesso:</strong> L’accesso al presente Sito può essere temporaneamente sospeso in qualsiasi momento, anche senza preavviso.<br>\n        <strong>7.2. Sicurezza informatica:</strong> Sebbene STARBOOK adotti le misure prescritte per legge per la tutela delle informazioni immesse, essa non è in grado di garantire la sicurezza dei dati trasmessi al Sito web; la trasmissione viene pertanto effettuata a rischio dell’utente.</p>\n      </div>\n      <div class="content-page" *ngIf="selectTab === \'privacy\'">\n        <p><strong>1. INFORMAZIONI RACCOLTE DA STARBOOK</strong></p>\n        <p>1.1. Nel visitare il Sito o nell’utilizzare il Servizio per inoltrare un Ordine ad un professionista tramite il Sito, è possibile che venga richiesto di fornire informazioni che riguardano l’utente, ivi incluso nome, recapiti (quali numero di telefono fisso, di telefono mobile e indirizzo e-mail) e dati relativi al pagamento (quali i dati della carta di credito o di debito). STARBOOK può inoltre raccogliere informazioni relative all’utilizzo del Sito e del Servizio da parte dell’utente nonché può raccogliere informazioni relative all’utente a partire dai materiali (quali messaggi e recensioni) che l’utente stesso pubblica sul Sito o trasmette al Sito o che invia a STARBOOK tramite e-mail o per lettera.</p>\n        <p><strong>2. USO DELLE INFORMAZIONI</strong></p>\n        <p>2.1. Le informazioni degli utenti consentono a STARBOOK di fornire agli utenti stessi l’accesso alle sezioni del Sito cui sono interessati e di fornire il Servizio. Esse mettono inoltre STARBOOK in grado di fatturare gli importi dovuti e consentono a STARBOOK o ad un professionista cui l’utente abbia inoltrato un Ordine di contattare l’utente in merito al Servizio, ove necessario. Ad esempio, STARBOOK e/o il professionista possono utilizzare i dati dell’utente per fornire allo stesso aggiornamenti sullo stato dell\'Ordine o altre informazioni relative alla stessa mediante e-mail, per telefono fisso o mobile o tramite messaggistica mobile. Inoltre, STARBOOK utilizza ed analizza le informazioni raccolte al fine di gestire, sostenere, migliorare e sviluppare la propria attività imprenditoriale, per eventuali altre finalità statistiche o analitiche nonché per contribuire alla prevenzione di frodi. Nei casi in cui sia opportuno, ora e in futuro, l’utente potrebbe avere la capacità di esprimere le proprie preferenze riguardo all’utilizzo dei propri dati secondo quanto previsto nella presente Informativa in materia di Privacy e di esercitarla tramite la metodologia prescelta dall’utente per l’utilizzo del Servizio, ad esempio, in modalità mobile, tramite applicazioni mobili o l’eventuale rappresentazione del Sito.<br>\n        2.2. STARBOOK può utilizzare le informazioni per contattare il cliente al fine di conoscere, con il suo consenso, le sue opinioni sul Servizio ed occasionalmente di informarlo delle modifiche o degli sviluppi importanti che riguardano il Sito o il Servizio suddetto.<br>\n        2.3. STARBOOK potrà utilizzare l’indirizzo email fornito dall’utente del Sito al momento dell’acquisto di prodotti in vendita sul Sito per far conoscere allo stesso utente i prodotti e servizi di STARBOOK, simili a quelli già acquistati, che possano riscuotere il suo interesse. L’utente potrà in ogni momento, gratuitamente e con effetto immediato opporsi all’utilizzo del proprio indirizzo email per la ricezione di tale materiale informativo cliccando sull’apposito link inserito in calce a ciascuna email ricevuta. In alternativa, l’utente potrà opporsi a tale trattamento anche modificando le preferenze dalla relativa sezione del proprio profilo. Per gestire le notifiche, l’utente dovrà accedere alla pagina delle impostazioni del suo telefono o tablet e modificare l\'autorizzazione alle notifiche per l\'applicazione STARBOOK. In caso di disattivazione delle notifiche, l’utente non potrà più ricevere aggiornamenti sui suoi ordini via notifiche.<br>\n        2.4. Se consentito dall’utente del Sito, STARBOOK potrà utilizzare i dati per far conoscere all’utente suddetto gli altri prodotti e servizi di STARBOOK che possano riscuotere il suo interesse, ivi inclusi servizi che possano essere oggetto di direct marketing mediante sistemi di messaggistica tramite cellulare e attraverso le notifiche.<br>\n        2.5. Qualora l’utente non desideri più che i suoi dati siano utilizzati da STARBOOK nei modi sopra indicati o cambi idea riguardo alla possibilità di essere contattato in futuro, si prega di farlo sapere a STARBOOK utilizzando i recapiti indicati al successivo articolo 8 e/o modificando corrispondentemente il proprio profilo.<br>\n        2.6. Qualora l’utente non desideri più che i suoi dati siano utilizzati da STARBOOK nei modi sopra indicati o cambi idea riguardo alla possibilità di essere contattato in futuro, si prega di opporsi al trattamento nei modi su indicati. In mancanza, è possibile informare in ogni momento farlo sapere a STARBOOK della propria decisione, utilizzando i recapiti indicati al successivo articolo 8 e/o modificando corrispondentemente il proprio profilo.</p>\n      </div>\n      <div class="content-page" *ngIf="selectTab === \'help\'">\n        <p>Hai bisogno di aiuto? <br>\n        Scrivi una mail harald.bregu@starbook.co e ti risponderemo nel più breve tempo possibile.</p>\n        <p>Vuoi entrare a far parte di STARBOOK? Aumenta il numero dei tuoi clienti paganti e risparmia sui costi del trasporto.</p>\n        <p>Per richiedere informazioni:</p>\n        <p>Cellulare: +39 3272415028<br>\n        Email: harald.bregu@starbook.co</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n\n<div class="dark-screen" *ngIf="activePopup !== \'\'" (click)="closePopup()"></div>\n<!-- Change password -->\n<div class="popup" *ngIf="activePopup === \'changePassword\'">\n  <div class="alert-block" *ngIf="formError">\n    <div class="alert-icn"></div>\n    <div class="alert-container">\n      <div class="header">{{formError.title}}</div>\n      <p>{{formError.message}}</p>\n    </div>\n  </div>\n  <div class="header">Cambia password</div>\n  <form class="login-form" #changePasswordForm="ngForm">\n    <div class="form-group" [ngClass]="{\'isError\': changePasswordError.currentPassword}">\n      <label for="currentPassword">La tua password</label>\n      <input id="currentPassword" class="form-control" type="password" name="currentPassword" placeholder="" required [(ngModel)]="changePasswordData.currentPassword" #currentPassword="ngModel">\n      <span class="error">La tua password attuale è richiesta</span>\n    </div>\n    <div class="form-group">\n      <label for="newPassword">Nuova password</label>\n      <input id="newPassword" class="form-control" type="password" name="newPassword" placeholder="" required [(ngModel)]="changePasswordData.newPassword" #newPassword="ngModel">\n    </div>\n    <div class="form-group" [ngClass]="{\'isError\': changePasswordError.passwordConfirm}">\n      <label for="passwordConfirm">Ripeti la nuova password</label>\n      <input id="passwordConfirm" class="form-control" type="password" name="password" placeholder="" required [(ngModel)]="changePasswordData.passwordConfirm" #passwordConfirm="ngModel" (keyup)="checkPassword(newPassword.value, passwordConfirm.value)">\n      <span class="error">Le password non corrispondono</span>\n    </div>\n    <div class="form-group">\n      <button class="btn btn-warning" type="submit" [disabled]="!changePasswordForm.form.valid" (click)="changePassword(currentPassword.value, newPassword.value, passwordConfirm.value)">Cambia password</button>\n    </div>\n  </form>\n</div>\n'},function(e,t){e.exports='<div class="dark-screen" [@shadowState]="shadowState" (click)="closePopup()"></div>\n<!-- Login popup -->\n<div class="popup" [@loginPopupState]="loginPopupState">\n  <div class="alert-block" *ngIf="formError">\n    <div class="alert-icn"></div>\n    <div class="alert-container">\n      <div class="header">Si è verificato un errore!</div>\n      <p>{{formError.message}}</p>\n    </div>\n  </div>\n  <app-loading *ngIf="isPopupLoading"></app-loading>\n  <div class="header">Accedi</div>\n  <form class="login-form" #loginForm="ngForm" (keyup.enter)="login(email.value, password.value)">\n    <div class="form-group" [ngClass]="{\'isError\': loginError.email}">\n      <label for="email">Indirizzo email</label>\n      <input id="email" class="form-control" type="email" name="email" [(ngModel)]="loginData.email" #email="ngModel" (keyup)="checkEmail(\'login\', email.value)" (change)="checkEmail(\'login\', email.value)">\n      <span class="error">Indirizzo email non valido</span>\n    </div>\n    <div class="form-group" [ngClass]="{\'isError\': loginError.password}">\n      <label for="password">Password <a class="recovery" (click)="getPopup(\'recovery\')">Password dimenticata?</a></label>\n      <input id="password" class="form-control" type="password" name="password" [(ngModel)]="loginData.password" #password="ngModel" (keyup)="checkNonEmpty(\'login\', password.value)" (change)="checkNonEmpty(\'login\', password.value)">\n      <span class="error">Inserisci la tua password</span>\n    </div>\n    <div class="form-group">\n      <a class="btn btn-warning" href="#" (click)="login(email.value, password.value)">Accedi</a>\n    </div>\n    <div class="form-description">\n      <span>Sei nuovo su Starbook?</span>\n    </div>\n    <div class="form-group">\n      <a class="btn btn-secondary" (click)="getPopup(\'registration\')">Nuovo account</a>\n    </div>\n  </form>\n</div>\n\n<!-- Registration popup -->\n<div class="popup" [@registrationPopupState]="registrationPopupState">\n  <div class="alert-block" *ngIf="formError">\n    <div class="alert-icn"></div>\n    <div class="alert-container">\n      <div class="header">{{formError.title}}</div>\n      <p>{{formError.message}}</p>\n    </div>\n  </div>\n  <app-loading *ngIf="isPopupLoading"></app-loading>\n  <div class="header">Nuovo account</div>\n  <form class="registration-form" #registrationForm="ngForm">\n    <div class="form-group" [ngClass]="{\'isError\': registrationError.name}">\n      <label for="regName">Nome completo</label>\n      <input id="regName" class="form-control" type="text" name="name" placeholder="" required [(ngModel)]="registrationData.name" #regName="ngModel" (keyup)="checkNonEmpty(\'registrationName\', regName.value)">\n      <span class="error">Inserisci il nome completo</span>\n    </div>\n    <div class="form-group" [ngClass]="{\'isError\': registrationError.phone}">\n      <label for="regPhone">Cellulare</label>\n      <input id="regPhone" class="form-control" type="text" name="phone" placeholder="" required [(ngModel)]="registrationData.phone" #regPhone="ngModel" (keyup)="checkNonEmpty(\'registrationPhone\', regPhone.value)">\n      <span class="error">Inserisci numero cellulare</span>\n    </div>\n    <div class="form-group" [ngClass]="{\'isError\': registrationError.email}">\n      <label for="regEmail">Email</label>\n      <input id="regEmail" class="form-control" type="email" name="email" placeholder="" required [(ngModel)]="registrationData.email" #regEmail="ngModel" (keyup)="checkEmail(\'registration\', regEmail.value)">\n      <span class="error">Indirizzo email non valido</span>\n    </div>\n    <div class="form-group" [ngClass]="{\'isError\': registrationError.passwordFirst}">\n      <label for="regPassword">Password</label>\n      <input id="regPassword" class="form-control" type="password" name="password" placeholder="" required [(ngModel)]="registrationData.password" #regPassword="ngModel" (keyup)="checkNonEmpty(\'registrationPassword\', regPassword.value)">\n      <span class="error">Inserisci una password</span>\n    </div>\n    <div class="form-group" [ngClass]="{\'isError\': registrationError.password}">\n      <label for="regPasswordConfirm">Di nuovo la password</label>\n      <input id="regPasswordConfirm" class="form-control" type="password" name="passwordConfirm" placeholder="" required [(ngModel)]="registrationData.passwordConfirm" #regPasswordConfirm="ngModel" (keyup)="checkPassword(regPassword.value, regPasswordConfirm.value)">\n      <span class="error">Le password non corrispondono</span>\n    </div>\n    <div class="form-group">\n      <button class="btn btn-warning" type="submit" (click)="registration(regName.value, regPhone.value, regEmail.value, regPassword.value, regPasswordConfirm.value)">Crea account</button>\n    </div>\n  </form>\n  <div class="form-notice">Accedendo dichiari di aver letto e accetti le <a (click)="closePopup()" routerLink="profile/conditions">condizioni generali</a> e <a (click)="closePopup()" routerLink="profile/privacy">l’informativa sulla privacy</a></div>\n  <div class="login-offer">Hai gia un account su Starbook? <a (click)="getPopup(\'login\')">Accedi</a></div>\n</div>\n\n<!-- Recovery popup -->\n<div class="popup" [@recoveryPopupState]="recoveryPopupState">\n  <div class="alert-block" *ngIf="formError">\n    <div class="alert-icn"></div>\n    <div class="alert-container">\n      <div class="header">{{formError.title}}</div>\n      <p>{{formError.message}}</p>\n    </div>\n  </div>\n  <div class="header">Recupera password</div>\n  <form class="recovery-form" #recoveryForm="ngForm">\n    <div class="form-group" [ngClass]="{\'isError\': recoveryError.email}">\n      <label for="recoveryEmail">Email</label>\n      <input id="recoveryEmail" class="form-control" type="text" name="name" placeholder="" required [(ngModel)]="recoveryData.email" #recoveryEmail="ngModel" (keyup)="checkEmail(\'recovery\', recoveryEmail.value)">\n      <span class="error">Indirizzo email non valido</span>\n    </div>\n    <div class="form-group">\n      <button class="btn btn-warning" type="submit" (click)="recovery(recoveryEmail.value)">Invia email</button>\n    </div>\n  </form>\n  <div class="login-offer">Hai gia un account su Starbook? <a (click)="getPopup(\'login\')">Accedi</a></div>\n</div>\n\n<!-- Confirm Order popup -->\n<div class="popup" [@confirmPopupState]="confirmPopupState" [ngClass]="{\'new-version\': confirmPopupData.type === \'conferma\' || confirmPopupData.type === \'confermaEnd\' || confirmPopupData.type === \'addPriceEnd\'}">\n  <div class="alert-block" *ngIf="formError">\n    <div class="alert-icn"></div>\n    <div class="alert-container">\n      <div class="header">{{formError.title}}</div>\n      <p>{{formError.message}}</p>\n    </div>\n  </div>\n  <div class="popup-spinner" *ngIf="confirmPopupData.type === \'conferma\'">\n    <svg width=\'40px\' height=\'40px\' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ring">\n      <rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect>\n      <circle cx="50" cy="50" r="45" stroke-dasharray="169.64600329384882 113.09733552923257" stroke="#3B568D" fill="none" stroke-width="10">\n        <animateTransform attributeName="transform" type="rotate" values="0 50 50;180 50 50;360 50 50;" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="0s"></animateTransform>\n      </circle>\n    </svg>\n  </div>\n  <div class="success-icon" *ngIf="confirmPopupData.type === \'confermaEnd\' || confirmPopupData.type === \'addPriceEnd\'"><span></span></div>\n  <div class="header" [ngClass]="{\'without-message\': confirmPopupData.type === \'addPriceEnd\'}" *ngIf="confirmPopupData.title !== \'\'">{{ confirmPopupData.title }}</div>\n  <form class="confirm-order-form" #confirmOrderForm="ngForm">\n    <p *ngIf="confirmPopupData.type !== \'newOrder\' && confirmPopupData.type !== \'newOrderEnd\'" [ngClass]="{\'conferma-finish\': confirmPopupData.type === \'confermaEnd\'}">{{ confirmPopupData.text }}</p>\n    <p *ngIf="confirmPopupData.type === \'newOrderEnd\'" class="confirm-end">{{ confirmPopupData.text }}</p>\n    <div class="orders-list" *ngIf="confirmPopupData.type === \'newOrder\'">\n      <div class="order-item" *ngFor="let product of confirmPopupData.data">\n        <!-- <span *ngIf="product.type ===\'service\'" class="service-item">{{ product.productName }} <i *ngIf="product.price !== \'\'">€{{ product.price / 100 }}</i></span> -->\n        <span *ngIf="product.type ===\'service\'" class="service-item">{{ product.productName }} <i *ngIf="product.price !== \'\'">€{{ product.price / 100 }}</i></span>\n        <!-- <span *ngIf="product.type ===\'item\'">{{ product.productName }} {{ product.itemName }} <i *ngIf="product.price !== \'\'">€{{ product.price / 100 }}</i></span> -->\n        <span *ngIf="product.type ===\'item\'">{{ product.productName }}<i>{{ product.itemName }} {{ product.symbol }}</i></span>\n        <!-- <span *ngIf="product.type ===\'item\'">{{ product.productName }}<i>{{ product.itemName }}{{ product.symbol }}</i></span> -->\n        <span *ngIf="product.type ===\'total\'" class="total-item">{{ product.productName }} <i>€{{ product.price / 100 }}</i></span>\n      </div>\n    </div>\n    <div class="information-list" *ngIf="confirmPopupData.type === \'newOrder\'">\n      <div class="information-item"><span>Data:</span> {{ confirmPopupData.information.date }}</div>\n      <div class="information-item"><span>Ore:</span> {{ confirmPopupData.information.time }}</div>\n      <div class="information-item"><span>Indirizzo:</span> {{ confirmPopupData.information.address }}</div>\n      <div class="information-item" *ngIf="confirmPopupData.information.description !== \'\'"><span>Nota:</span> {{ confirmPopupData.information.description }}</div>\n    </div>\n    <div class="form-group">\n      <button class="btn btn-warning" type="submit" (click)="confirmOrder(confirmPopupData.id)" *ngIf="confirmPopupData.button === \'Conferma\'">Conferma</button>\n      <button class="btn btn-warning" type="submit" (click)="cancelOrder(confirmPopupData.id)" *ngIf="confirmPopupData.button === \'Annulla ordine\'">Annulla ordine</button>\n      <button class="btn btn-warning" type="submit" (click)="reactivateOrder(confirmPopupData.id)" *ngIf="confirmPopupData.button === \'Riattiva ordine\'">Riattiva ordine</button>\n      <button class="btn btn-warning new-order-btn" type="submit" (click)="confirmNewOrder()" *ngIf="confirmPopupData.button === \'Procedi con l’acquisto\'"><i class="fa fa-lock"></i> Procedi con l’acquisto</button>\n      <span *ngIf="confirmPopupData.button === \'Procedi con l’acquisto\'" class="confirm-button-notice">Verrai notificato con un sms e mail ad acquisto effettuato</span>\n      <button class="btn btn-warning logout-btn" type="submit" (click)="logout()" *ngIf="confirmPopupData.button === \'logout\'">Esci</button>\n      <button class="btn btn-secondary" type="submit" (click)="closePopup()" *ngIf="confirmPopupData.button === \'logout\'">Annulla</button>\n      <button class="btn btn-secondary" type="submit" (click)="closePopup()" *ngIf="confirmPopupData.button !== \'logout\'">Chiudi</button>\n    </div>\n  </form>\n</div>\n\n<!-- Confirm Order Finish popup -->\n<div class="popup" [@confirmFinishPopupState]="confirmFinishPopupState">\n  <div class="finish-message" [ngClass]="{isLeft: confirmFinishPopupData.type === \'left\'}">\n    <div class="header">{{ confirmFinishPopupData.title }}</div>\n    <p>{{ confirmFinishPopupData.text }}</p>\n    <div class="form-group">\n      <button class="btn btn-secondary" type="submit" (click)="closePopup()">Chiudi</button>\n    </div>\n  </div>\n</div>\n\n<!-- Finish popup -->\n<div class="popup" [@finishPopupState]="finishPopupState">\n  <div class="finish-message">\n    <a (click)="closePopup()" class="close-popup"></a>\n    <div class="header">{{ finishPopupData.title }}</div>\n    <p *ngFor="let text of finishPopupData.text">{{ text }}</p>\n  </div>\n</div>\n\n\n<!-- Add Card popup -->\n<div class="popup" [@addCardPopupState]="addCardPopupState">\n  <div class="header">Metodo di pagamento</div>\n  <form class="add-card-form" #addCardForm="ngForm">\n    <app-loading *ngIf="isPopupLoading"></app-loading>\n    <div class="cards-logo">\n      <div class="card-item visa"></div>\n      <div class="card-item mastercard"></div>\n      <div class="card-item amex"></div>\n    </div>\n    <div class="form-group" [ngClass]="{\'isError\': addCardError.number}" *ngIf="actionCardType === \'add\'">\n      <label for="addCardNumber">Numero carta</label>\n      <input id="addCardNumber" class="form-control" type="text" name="addCardNumber" placeholder="" [(ngModel)]="addCardData.number" #addCardNumber="ngModel" (keyup)="checkCardNumber(addCardNumber.value)" (change)="checkCardNumber(addCardNumber.value)">\n      <span class="error">Please enter card number</span>\n    </div>\n    <div class="form-group" *ngIf="actionCardType === \'edit\'">\n      <label for="editCardNumber">Numero carta</label>\n      <input id="editCardNumber" class="form-control" type="text" name="addCardNumber" placeholder="" [(ngModel)]="addCardData.number" disabled>\n      <span class="error">Please enter card number</span>\n    </div>\n    <div class="form-group">\n      <div class="part-group first" [ngClass]="{\'isError\': addCardError.exp_date}">\n        <label for="addExpDate">Scadenza</label>\n        <input id="addExpDate" class="form-control" type="text" name="addExpDate" placeholder="MM/AA" maxlength="5" [(ngModel)]="addCardData.exp_date" #addCardExpDate="ngModel" (keyup)="checkExpiry(addCardExpDate.value)" (change)="checkExpiry(addCardExpDate.value)">\n        <span class="error">Expiration date isn\'t correct</span>\n      </div>\n      <div class="part-group last" [ngClass]="{\'isError\': addCardError.cvc}" *ngIf="actionCardType === \'add\'">\n        <label for="addCVV">CVV</label>\n        <input id="addCVV" class="form-control" type="text" name="addCVV" [(ngModel)]="addCardData.cvc" #addCardCVV="ngModel" (keyup)="checkNonEmpty(\'addCardCvv\', addCardCVV.value)">\n        <span class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="Tooltip on right"></span>\n        <span class="error">CVV isn\'t correct</span>\n      </div>\n      <div class="part-group last" *ngIf="actionCardType === \'edit\'">\n        <label for="editCVV">CVV</label>\n        <input id="editCVV" class="form-control" type="text" name="addCVV" [(ngModel)]="addCardData.cvc" disabled>\n        <span class="fa fa-question-circle" data-toggle="tooltip" data-placement="right" title="Tooltip on right"></span>\n        <span class="error">CVV isn\'t correct</span>\n      </div>\n\n    </div>\n    <div class="subheader">\n      Informazioni facoltativi (collapse)\n    </div>\n    <div class="form-group">\n      <label for="addCardName">Nome intestatario</label>\n      <input id="addCardName" class="form-control" type="text" name="addCardName" placeholder="Nome Cognome" [(ngModel)]="addCardData.name" #addCardName="ngModel">\n    </div>\n    <div class="form-group">\n      <div class="part-group first-big">\n        <label for="addCardVia">Via</label>\n        <input id="addCardVia" class="form-control" type="text" name="addCardVia" [(ngModel)]="addCardData.address_line1" #addCardAddress1="ngModel">\n      </div>\n      <div class="part-group last-small">\n        <label for="addCardNr">Nr</label>\n        <input id="addCardNr" class="form-control" type="text" name="addCardNr" [(ngModel)]="addCardData.address_line2" #addCardAddress2="ngModel">\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="part-group first-big">\n        <label for="addCardCitta">Città</label>\n        <input id="addCardCitta" class="form-control" type="text" name="addCardCitta" [(ngModel)]="addCardData.address_city" #addCardAddressCity="ngModel">\n      </div>\n      <div class="part-group last-small">\n        <label for="addCardCap">CAP</label>\n        <input id="addCardCap" class="form-control" type="text" name="addCardCap" [(ngModel)]="addCardData.address_zip" #addCardAddressZip="ngModel">\n      </div>\n    </div>\n    <div class="form-group">\n      <div class="part-group first">\n        <label for="addCardProvincia">Provincia</label>\n        <input id="addCardProvincia" class="form-control" type="text" name="addCardProvincia" [(ngModel)]="addCardData.address_state" #addCardAddressState="ngModel">\n      </div>\n      <div class="part-group last">\n        <label for="addCardPease">Paese</label>\n        <input id="addCardPease" class="form-control" type="text" name="addCardPease" [(ngModel)]="addCardData.address_country" #addCardAddressCountry="ngModel">\n      </div>\n    </div>\n    <div class="form-group">\n      <button class="btn btn-warning" type="submit" (click)="addNewCard()" *ngIf="actionCardType === \'add\'">Aggiungi metodo</button>\n      <button class="btn btn-warning" type="submit" (click)="editCard()" *ngIf="actionCardType === \'edit\'">Aggiungi metodo</button>\n      <button class="btn btn-secondary" (click)="closePopup()">Chiudi</button>\n    </div>\n  </form>\n</div>\n\n\n<!-- Confirm popup with action -->\n<div class="popup" [@confirmActionPopupState]="confirmActionPopupState" [ngClass]="{\'add-price\': confirmActionPopupData.type === \'addPrice\'}">\n  <div class="alert-block" *ngIf="formError">\n    <div class="alert-icn"></div>\n    <div class="alert-container">\n      <div class="header">{{formError.title}}</div>\n      <p>{{formError.message}}</p>\n    </div>\n  </div>\n  <app-loading *ngIf="isPopupLoading"></app-loading>\n  <div class="header">{{ confirmActionPopupData.title }}</div>\n  <form class="confirm-action" #confirmActionOrderForm="ngForm">\n    <p>\n      {{ confirmActionPopupData.text }}\n      <span *ngIf="confirmActionPopupData.text2 !== \'\'"><br> {{ confirmActionPopupData.text2 }}</span>\n    </p>\n    <div class="action" *ngFor="let action of confirmActionPopupData.actions">\n      <div class="form-group" *ngIf="action.type === \'Payment_input_add\'">\n        <label>{{ action.label }}</label>\n        <div class="input-group">\n          <input type="text" class="form-control" name="confirmActionInputAddPrice" [(ngModel)]="confirmActionPopupData.price" #confirmActionInputAddPrice="ngModel">\n          <span class="input-group-addon">.00</span>\n          <span class="input-group-addon euro">€</span>\n        </div>\n        <p class="price-description">{{ action.description }}</p>\n      </div>\n      <div class="form-group" *ngIf="action.type === \'Payment_input_edit\'">\n        <label>{{ action.label }}</label>\n        <div class="input-group">\n          <input type="text" class="form-control" name="confirmActionInputEditPrice" [(ngModel)]="confirmActionPopupData.price" #confirmActionInputEditPrice="ngModel">\n          <span class="input-group-addon">.00</span>\n          <span class="input-group-addon euro">€</span>\n        </div>\n        <p class="price-description">{{ action.description }}</p>\n      </div>\n      <div class="payment-information" *ngIf="action.type === \'Payment_information\'">\n        {{ action.information }}\n      </div>\n    </div>\n    <div class="form-group buttons-block">\n      <span *ngFor="let button of confirmActionPopupData.buttons">\n        <button *ngIf="button.type === \'addPrice\'" class="btn btn-warning" (click)="addPrice(confirmActionPopupData.orderId)">{{ button.text }}</button>\n        <button *ngIf="button.type === \'editPrice\'" class="btn btn-warning" (click)="editPrice(confirmActionPopupData.orderId)">{{ button.text }}</button>\n        <button *ngIf="button.type === \'continueOrder\'" class="btn btn-warning" (click)="continueOrder(confirmActionPopupData.orderId)"><i class="fa fa-lock"></i> {{ button.text }}</button>\n        <button *ngIf="button.type === \'close\'" (click)="closePopup()" class="btn btn-secondary">{{ button.text }}</button>\n      </span>\n    </div>\n  </form>\n</div>\n';
},function(e,t){e.exports='<div class="loader">\n  <svg width=\'60px\' height=\'60px\' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ring">\n    <rect x="0" y="0" width="60" height="60" fill="none" class="bk"></rect>\n    <circle cx="50" cy="50" r="45" stroke-dasharray="169.64600329384882 113.09733552923257" stroke="#3B568D" fill="none" stroke-width="10">\n      <animateTransform attributeName="transform" type="rotate" values="0 50 50;180 50 50;360 50 50;" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="0s"></animateTransform>\n    </circle>\n  </svg>\n</div>'},function(e,t){e.exports=require("@angular/platform-browser")},function(e,t){e.exports=require("angular2-express-engine")},function(e,t){e.exports=require("angular2-universal-polyfills")},function(e,t){e.exports=require("angular2-universal/node")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("core-js/es6/array")},function(e,t){e.exports=require("core-js/es6/date")},function(e,t){e.exports=require("core-js/es6/function")},function(e,t){e.exports=require("core-js/es6/map")},function(e,t){e.exports=require("core-js/es6/math")},function(e,t){e.exports=require("core-js/es6/number")},function(e,t){e.exports=require("core-js/es6/object")},function(e,t){e.exports=require("core-js/es6/parse-float")},function(e,t){e.exports=require("core-js/es6/parse-int")},function(e,t){e.exports=require("core-js/es6/reflect")},function(e,t){e.exports=require("core-js/es6/regexp")},function(e,t){e.exports=require("core-js/es6/set")},function(e,t){e.exports=require("core-js/es6/string")},function(e,t){e.exports=require("core-js/es6/symbol")},function(e,t){e.exports=require("core-js/es7/reflect")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("ng2-click-outside")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("primeng/components/autocomplete/autocomplete")},function(e,t){e.exports=require("primeng/components/calendar/calendar")},function(e,t,i){e.exports=i(21)}]);
//# sourceMappingURL=server.bundle.js.map