<div class="col-sm-3 col-md-2 sidebar">
  <form class="sidebar-container" #orderForm="ngForm">
    <div class="sidebar-block">
      <h2>Dettaglio dell’ordine</h2>
      <div class="order-container" *ngIf="!orderIsFull">
        <div class="order-list-empty"><strong>Inserisci</strong> le informazioni necessari del appuntamento e invia la richiesta.</div>
      </div>
      <div class="order-container selected-orders" *ngIf="orderIsFull">
        <div class="category-group" *ngFor="let orderCategory of orderData">
          <strong>{{orderCategory.name}}:</strong>
          <span *ngFor="let orderItem of orderCategory.items">{{orderItem.name}}</span>
        </div>
      </div>

      <div class="add-order-form">
        <div class="form-group" [ngClass]="{isError: submitOrder && !Order.date}">
          <div class="input-group date datepicker-block">
            <span class="fa fa-calendar"></span>
            <p-calendar name="dataOra" [(ngModel)]="Order.date" id="dataOra" class="form-control" placeholder="Data" autocomplete="off" dateFormat="dd MM yy" [locale]="it">
            </p-calendar>
          </div>
        </div>
        <div class="form-group" [ngClass]="{isError: Order.time === '' && submitOrder}">
          <div class="input-group date">
            <span class="fa fa-clock-o" (click)="toggleTimepicker()"></span>
            <input id="timeOra" class="form-control" type="text" name="timeOra" [(ngModel)]="Order.time" value="{{Order.time}}" placeholder="Ora" autocomplete="off" (click)="toggleTimepicker()" (clickOutside)="closeTimepicker()">
          </div>
          <div class="time-picker" *ngIf="timePickerIsShow">
            <div class="time-elem" *ngFor="let time of timePicker" (click)="selectTime(time)">{{time}}</div>
          </div>
        </div>
        <div class="form-group" [ngClass]="{isError: !isAddressFull && submitOrder}">
          <div class="input-group date">
            <span class="fa fa-map-marker"></span>
            <p-autoComplete id="luogo" class="form-control text-small" placeholder="Indirizzo" [ngClass]="{'isError':isAddressFull === false && isAddressDirty === true}" [(ngModel)]="Order.delivery_address" [ngModelOptions]="{standalone: true}" [suggestions]="addresses" field="formattedAddress" (completeMethod)="getAddresses($event)" (onSelect)="selectAddress($event)">
            </p-autoComplete>
          </div>
          <div class="error-block" *ngIf="!isAddressFull && isAddressDirty">Inserisci l'indirizzo esatto</div>
        </div>
        <div class="form-group">
          <textarea class="form-control" id="nota" name="applicant_description" [(ngModel)]="Order.delivery_description" placeholder="Aggiungi una nota"></textarea>
        </div>
        <div class="form-group">
          <button class="btn btn-warning btn-block" (click)="showConfirmation()">Anteprima ordine</button>
        </div>
        <div class="footer-links">
          <p>
            Starbook © 2016 •
            <a routerLink="profile/privacy">Privacy</a> •
            <a routerLink="profile/conditions">Condizioni</a> •
            <a routerLink="profile/help">Assistenza</a>
          </p>
        </div>
      </div>
    </div>
  </form>
</div>
