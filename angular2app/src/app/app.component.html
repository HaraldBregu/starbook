<nav class="navbar navbar-dark navbar-fixed-top bg-inverse" [ngClass]="{'is-search': isFindField}">
  <div class="container-starbook top-menu">
    <a class="navbar-brand" routerLink="" (click)="updateTabMenu()">Starbook</a>
    <div class="search-block" *ngIf="isFindField">
      <p-autoComplete [(ngModel)]="findValue" [suggestions]="results" field="title" scrollHeight="170px" (completeMethod)="search($event)" (onSelect)="selectResult(findValue)" placeholder="Cerca" minLength="0">
        <template let-res>
          <div class="search-result" (click)="selectResult(res)">{{ res.title }}</div>
        </template>
      </p-autoComplete>
      <div class="spinner" *ngIf="spinerView">
        <svg width='13px' height='13px' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ring">
          <rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect>
          <circle cx="50" cy="50" r="45" stroke-dasharray="169.64600329384882 113.09733552923257" stroke="#3B568D" fill="none" stroke-width="10">
            <animateTransform attributeName="transform" type="rotate" values="0 50 50;180 50 50;360 50 50;" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" begin="0s"></animateTransform>
          </circle>
        </svg>
      </div>
      <div class="close-container" *ngIf="!spinerView && clearView">
        <span class="close rounded thick" (click)="clearSearchForm()"></span>
      </div>
      <div class="ui-autocomplete-panel empty" *ngIf="results.length === 0 && findValue.length > 0 && isSearched">
        <div class="no-result">Nessun risultato</div>
      </div>
    </div>
    <div class="tagline" *ngIf="!isFindField">{{tagline}}</div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" aria-label="Menu" (click)="toggleMenu()"></button>
    <ul class="nav navbar-nav float-xs-right" *ngIf="auth !== false" [ngClass]="{'collapse':navbarState===false}">
      <li class="nav-item">
        <a class="nav-link home" routerLink="" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}" (click)="updateTabMenu(true)">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link orders" routerLink="/orders" routerLinkActive="active" (click)="toggleMenu()">Ordini</a>
      </li>
      <li class="nav-item">
        <a class="nav-link profile" routerLink="/profile/settings" routerLinkActive="active" (click)="toggleMenu()">{{auth.profile.fullname}}</a>
      </li>
    </ul>
    <ul class="nav navbar-nav float-xs-right" *ngIf="auth === false" [ngClass]="{'collapse':navbarState===false}">
      <li class="nav-item">
        <a class="nav-link profile" (click)="getLoginPopup()">Accedi</a>
      </li>
      <li class="nav-item">
        <a class="nav-link profile" (click)="getRegistrationPopup()">Registrati</a>
      </li>
    </ul>
  </div>
</nav>
<router-outlet></router-outlet>
<app-popups (close)="closePopup()"></app-popups>
