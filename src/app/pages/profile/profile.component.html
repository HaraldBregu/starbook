<div class="profile-container">
  <div class="profile" *ngIf="!Account">
    <div class="loader">
      <i class="fa fa-circle-o-notch animate"></i>
    </div>
  </div>
  <div class="profile" *ngIf="Account">
    <div class="profile-header">
      <div class="avatar-container">
        <div class="avatar" [ngStyle]="{'background-image' : ' url(' + checkBigPicture(Account) + ')'}">
        </div>
      </div>
      <div class="promotion-section">
        <button type="button" name="button" class="btn btn-primary" (click)="popup='PROMOTE_NOW_POPUP';"><b>Promuovi</b></button>
      </div>
      <div class="account-info">
        <h1 class="name">{{checkCompanyName(Account)}}</h1>
        <h2 class="tagline" *ngIf="checkTagline(Account)">{{checkTagline(Account)}}</h2>
        <h3 class="description" *ngIf="businessDescription(Account)">{{businessDescription(Account)}}</h3>
        <div class="user-address" *ngIf="Account.profile.fullname || Account.address.city">
          <span class="user" *ngIf="businessName()"><i class="fa fa-user" aria-hidden="true"></i> {{Account.profile.fullname}}</span>
          <span class="address" *ngIf="Account.address.city"><i class="fa fa-map-marker" aria-hidden="true"></i> {{Account.address.city}}</span>
        </div>
      </div>
      <div class="actions">
        <a *ngIf="getGoogleMapsLink(Account)" role="button" name="button" class="btn btn-primary" href="{{getGoogleMapsLink(Account)}}" target="_blank"><i class="fa fa-location-arrow" aria-hidden="true"></i> <b>Vai</b></a>
        <button *ngIf="getPhoneNumber()" type="button" name="button" class="btn btn-warning" (click)="popup='PHONE_NUMBER_POPUP';"><i class="fa fa-phone" aria-hidden="true"></i> <b>Telefono</b></button>
        <button *ngIf="getEmailAddress()" type="button" name="button" class="btn btn-info" (click)="popup='EMAIL_POPUP';"><i class="fa fa-envelope" aria-hidden="true"></i> <b>Email</b></button>
        <button type="button" name="button" class="btn btn-success" (click)="popup='SEND_PRIVATE_MESSAGE_POPUP';"><i class="fa fa-paper-plane" aria-hidden="true"></i> <b>Messaggio</b></button>
      </div>
    </div>
  </div>
</div>

<!-- PROMOTION -->
<div class="popup-container" [ngStyle]="{'display' : popup==='PROMOTE_NOW_POPUP' ? 'block' : 'none'}">
  <div class="popup-shadow" [ngStyle]="{'display' : popup ? 'block' : 'none'}" (click)="popup=null;"></div>
  <div class="popup ads-popup">
    <div class="popup-content">
      <div class="popup-nav">
        <button type="button" class="close" (click)="popup=null;">&times;</button>Promuovi la tua Pagina
      </div>
      <div class="popup-header">
        <p>Selezione le opzioni della tua campagnia promozionale Starbook utilizzando le piattaforme <b>Facebook Ads</b> e <b>Google Adwords.</b></p>
      </div>
      <div class="popup-body">
        <div class="platform-ads">
          <div class="platform-ads-header">
            <i class="fa fa-facebook-official" aria-hidden="true"></i><span>Facebook</span>
          </div>
          <div class="platform-ads-body">
            <form>
              <p>Seleziona la durata</p>
              <div class="row">
                <div class="col-md-4" *ngFor="let option of FacebookPromotion.time_options">
                  <div class="option">
                    <div class="option-content noselect" [ngClass]="{'facebook-option-selected':option.count===FacebookPromotion.default_time_option.count}" (click)="selectFacebookAdPeriod(option)">
                      <span>{{option.count}} {{option.item}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <form>
              <p>Budget giornaliero <strong>€/giorno</strong></p>
              <div class="row">
                <div class="col-md-4" *ngFor="let option of FacebookPromotion.price_options">
                  <div class="option">
                    <div class="option-content noselect" [ngClass]="{'facebook-option-selected':option.price===FacebookPromotion.default_price_options.price}" (click)="selectFacebookAdPrice(option)">
                      <span>{{option.price/100}}{{option.currency}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <form>
              <div class="row">
                <div class="form-group col-md-12">
                  <p>Data inizio campagna Facebook</p>
                  <input class="form-control" type="date" id="city-input" placeholder="Città" [(ngModel)]="Promotion.facebook.start_date" [ngModelOptions]="{standalone: true}">
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="platform-ads-facebook-divider"></div>
        <div class="platform-ads">
          <div class="platform-ads-header" (click)="GooglePromotion.active = !GooglePromotion.active">
            <img src="../../../assets/images/adwords.png" title="Google Adwords" alt="Google Adwords"><span>Google</span>
          </div>
          <div class="platform-ads-body" *ngIf="GooglePromotion.active">
            <form>
              <p>Seleziona la durata</p>
              <div class="row">
                <div class="col-md-4" *ngFor="let option of GooglePromotion.time_options">
                  <div class="option">
                    <div class="option-content noselect" [ngClass]="{'google-option-selected':option.count===GooglePromotion.default_time_option.count}" (click)="selectGoogleAdPeriod(option)">
                      <span>{{option.count}} {{option.item}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <form>
              <p>Budget giornaliero <strong>€/giorno</strong></p>
              <div class="row">
                <div class="col-md-4" *ngFor="let option of GooglePromotion.price_options">
                  <div class="option">
                    <div class="option-content noselect" [ngClass]="{'google-option-selected':option.price===GooglePromotion.default_price_options.price}" (click)="selectGoogleAdPrice(option)">
                      <span>{{option.price/100}}{{option.currency}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </form>
            <form>
              <div class="row">
                <div class="form-group col-md-12">
                  <p>Data inizio campagna Google</p>
                  <input class="form-control" type="date" id="city-input" placeholder="Città" [(ngModel)]="Promotion.facebook.start_date" [ngModelOptions]="{standalone: true}">
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="platform-ads-google-divider"></div>
        <div class="platform-ads">
          <div class="platform-ads-header">
            <i class="fa fa-google" aria-hidden="true"></i><span>Google Search</span>
            <p>Registra la tua pagina nel indice di Google Search</p>
          </div>
          <div class="platform-ads-body">
            <form>
              <div class="row">
                <div class="col-md-12">
                  <div class="form-check">
                    <label class="form-check-label">
                      <input type="checkbox" class="form-check-input" [checked]="Promotion.google.indexing" (change)="Promotion.google.indexing = !Promotion.google.indexing"><span class="noselect">Indicizzazione su Google</span>
                    </label>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="platform-ads">
          <div class="platform-ads-header">
            <i class="fa fa-google" aria-hidden="true"></i><span>Google Maps</span>
            <p>Registra la tua attività su Google Maps</p>
          </div>
          <div class="platform-ads-body">
            <form>
              <div class="row">
                <div class="col-md-12">
                  <div class="form-check">
                    <label class="form-check-label">
                      <input type="checkbox" class="form-check-input" [checked]="Promotion.google.mapping" (change)="Promotion.google.mapping = !Promotion.google.mapping"><span class="noselect">Iscrizione su Google Maps</span>
                    </label>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="popup-footer">
        <div class="actions">
          <button type="button" id="next" class="btn btn-secondary" (click)="popup=null;">Annulla</button>
          <button type="button" id="next" class="btn btn-success" (click)="startPromotion()"><i class="fa fa-circle-o-notch animate" *ngIf="Message_State.loading"></i>Inizia promozione</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="popup-container" [ngStyle]="{'display' : popup==='SEND_PRIVATE_MESSAGE_POPUP' ? 'block' : 'none'}">
  <div class="popup-shadow" [ngStyle]="{'display' : popup ? 'block' : 'none'}" (click)="popup=null;"></div>
  <div class="popup">
    <div class="popup-content">
      <div class="popup-header">
        <h3>Messaggio</h3>
      </div>
      <div class="popup-body">
        <form>
          <div class="row">
            <div class="form-group col-md-12">
              <label for="business-description-input">Inserisci un messaggio</label>
              <textarea id="help-description-input" class="form-control" placeholder="Scrivi un messaggio" rows="6" [(ngModel)]="Message.text" [ngClass]="{'error-input': Message_State.text_error}" [ngModelOptions]="{standalone: true}"></textarea>
            </div>
            <div class="form-group col-md-12" *ngIf="!CurrentAccount">
              <label for="phone-input">Telefono *</label>
              <input class="form-control" type="text" id="phone-input" placeholder="" [(ngModel)]="Message.phone_number" [ngClass]="{'error-input': Message_State.phone_number_error}" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="form-group col-md-12" *ngIf="!CurrentAccount">
              <label for="email-company-input">Email *</label>
              <input class="form-control" type="email" id="email-company-input" placeholder="" [(ngModel)]="Message.email" [ngClass]="{'error-input': Message_State.email_error}" [ngModelOptions]="{standalone: true}">
            </div>
          </div>
        </form>
      </div>
      <div class="popup-footer">
        <div class="error-container" *ngIf="Message_State.error_message">
          <span class="error">{{Message_State.error_message}}</span>
        </div>
        <div class="actions">
          <button type="button" id="next" class="btn btn-secondary" (click)="popup=null;">Chiudi</button>
          <button type="button" id="next" class="btn btn-success" (click)="sendPrivateMessage()"><i class="fa fa-circle-o-notch animate" *ngIf="Message_State.loading"></i>Invia messaggio</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="popup-container" [ngStyle]="{'display' : popup==='PHONE_NUMBER_POPUP' ? 'block' : 'none'}">
  <div class="popup-shadow" [ngStyle]="{'display' : popup ? 'block' : 'none'}" (click)="popup=null;"></div>
  <div class="popup">
    <div class="popup-content">
      <div class="popup-nav">
        <button type="button" class="close" (click)="popup=null;">&times;</button>Contatto telefonico
      </div>
      <div class="popup-header">
        <h3>Numero di telefono</h3>
      </div>
      <div class="popup-body">
        <p><a href="tel:{{getPhoneNumber()}}" target="_blank"><i class="fa fa-phone" aria-hidden="true"></i> <span>{{getPhoneNumber()}}</span></a></p>
      </div>
      <div class="popup-footer">
        <div class="actions">
          <button type="button" id="next" class="btn btn-secondary" (click)="popup=null;">Chiudi</button>
          <a id="next" class="btn btn-success" href="tel:{{getPhoneNumber()}}" target="_blank" role="button"><i class="fa fa-phone" aria-hidden="true"></i> Chiama ora</a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="popup-container" [ngStyle]="{'display' : popup==='EMAIL_POPUP' ? 'block' : 'none'}">
  <div class="popup-shadow" [ngStyle]="{'display' : popup ? 'block' : 'none'}" (click)="popup=null;"></div>
  <div class="popup">
    <div class="popup-content">
      <div class="popup-nav">
        <button type="button" class="close" (click)="popup=null;">&times;</button>Indirizzo email
      </div>
      <div class="popup-header">
        <h3>Email</h3>
      </div>
      <div class="popup-body">
        <p><a href="mailto:{{getEmailAddress()}}" target="_blank"><i class="fa fa-envelope" aria-hidden="true"></i> <span>{{getEmailAddress()}}</span></a></p>
      </div>
      <div class="popup-footer">
        <div class="actions">
          <button type="button" id="next" class="btn btn-secondary" (click)="popup=null;">Chiudi</button>
          <a id="next" class="btn btn-success" href="mailto:{{getEmailAddress()}}" target="_blank" role="button"><i class="fa fa-envelope" aria-hidden="true"></i> Invia una mail</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="account-footer" *ngIf="Account">
  <div class="footer">
      <div class="row">
        <div class="col-md-12 text-center">
          <p>
            © 2017 • Starbook Tutti i diritti riservati
            <a routerLink="/info/legal" target="_blank">Termini e Condizioni</a>
            <span> • </span>
            <a routerLink="/info/legal" target="_blank">Privacy Policy</a>
            <span> • </span>
            <a routerLink="/info/help" target="_blank">Aiuto e Assistenza</a>
            <span> • </span>
            <a routerLink="/company" target="_blank">Per le aziende</a>
            <span *ngIf="!CurrentAccount"> • </span>
            <a *ngIf="!CurrentAccount" routerLink="/auth/login" target="_blank">Entra</a>
          </p>
        </div>
      </div>
  </div>
</div>



<!-- <div class="profile" *ngIf="page==='payment'">
  <div class="header">
    <h3>Metodo di pagamento</h3>
    <p>Aggiorna le informazioni del tuo metodo di pagamento</p>
  </div>
  <div class="card-container" *ngFor="let card of cards">
    <div class="row">
      <div class="col-lg-8 col-md-8">
        <h4>{{card.brand}} <small>{{ card.funding }} {{ card.object }}</small> <small *ngIf="defaultCard === card.id">Default</small></h4>
        <div class="information-block">
          <span>Nome:</span>
          {{ card.name }}
        </div>
        <div class="information-block">
          <span>Numero:</span>
          **** {{ card.last4 }}
        </div>
        <div class="information-block">
          <span>Scadenza:</span>
          {{ card.exp_month }}/{{ formatYear(card.exp_year) }}
        </div>
        <div class="information-block">
          <span>Tipo:</span>
          {{ card.brand }} {{ card.funding }} {{ card.object }}
        </div>
        <div class="information-block">
          <span>Indirizzo:</span>
          {{ card.address_line1 }} {{ card.address_line2 }} <br>
          {{ card.address_state }} {{ card.address_city }} <br>
          {{ card.address_zip }} {{ card.address_country }}
        </div>
      </div>
      <div class="col-lg-4 col-md-4">
        <div class="buttons-block">
          <a class="btn btn-success" *ngIf="defaultCard !== card.id" (click)="selectCard(card.id)">Default</a>
          <a class="btn btn-danger" (click)="deleteCard(card.id)">Rimuovi</a>
        </div>
      </div>
    </div>
  </div>
  <div class="card-container">
    <a class="btn btn-secondary" *ngIf="cards?.length===0" (click)="showCardPage()">Aggiungi un metodo</a>
    <a class="btn btn-secondary" *ngIf="cards?.length > 0" (click)="showCardPage()">Aggiungi un altro metodo</a>
  </div>
  <div class="footer-box">
    <h5>Privacy del account</h5>
    <h6><small>Le informazioni degli utenti consentono a Starbook di fornire agli utenti stessi l’accesso alle sezioni del Sito cui sono interessati e di fornire il Servizio. Esse mettono inoltre Starbook in grado di fatturare gli importi dovuti e consentono a Starbook o ad un professionista cui l’utente abbia inoltrato un Ordine di contattare l’utente in merito al Servizio.</small></h6>
  </div>
</div>
<div class="profile" *ngIf="page==='affiliate'">
  <div class="header">
    <h3>Programma di affiliazione Starbook</h3>
    <p>Condividi Starbook ai tuoi amici e per ogni servizio acquistato riceverete entrambi 5% del totale del servizio</p>
  </div>
  <div class="card-container">
    <div class="row">
      <div class="col-lg-7 col-md-7">
        <div class="link-container">
          <div class="input-group">
            <div class="link">
              {{sharelink}}
            </div>
            <span class="input-group-btn">
              <button type="button" id="next" class="btn btn-white" [clipboard]="sharelink" (clipboardCopy)="copyLink($event)" (clipboardError)="copyError($event)">{{copy_link_state.title}}</button>
            </span>
          </div>
        </div>
      </div>
      <div class="col-lg-5 col-md-5">
        <p><small>Questo è un link unico per la tua affiliazione. Condividi l link e inizia a guadagnare per ogni lavoro svolto.</small></p>
      </div>
    </div>
    <div class="row share-buttons">
      <h3>Condividi</h3>
      <div class="col-md-6 col-lg-15">
        <div class="form-group">
          <button type="button" id="next" class="btn btn-facebook" (click)="shareOnFacebook()"><i class="fa fa-facebook"></i>Facebook</button>
        </div>
      </div>
      <div class="col-md-6 col-lg-15">
        <div class="form-group">
          <button type="button" id="next" class="btn btn-twitter" (click)="shareOnTwitter()"><i class="fa fa-twitter"></i>Twitter</button>
        </div>
      </div>
      <div class="col-md-6 col-lg-15">
        <div class="form-group">
          <button type="button" id="next" class="btn btn-linkedin" (click)="shareOnLinkedin()"><i class="fa fa-linkedin"></i>Linkedin</button>
        </div>
      </div>
      <div class="col-md-6 col-lg-15">
        <div class="form-group">
          <button type="button" id="next" class="btn btn-google-plus" (click)="shareOnGoogle()"><i class="fa fa-google-plus"></i>Google</button>
        </div>
      </div>
      <div class="col-md-6 col-lg-15">
        <div class="form-group">
          <button type="button" id="next" class="btn btn-white" (click)="shareWithEmail()"><i class="fa fa-envelope"></i>Email</button>
        </div>
      </div>
    </div>
    <div class="row send-buttons">
      <h3>Invia a</h3>
      <div class="col-lg-7 col-md-7">
        <div class="form-group" *ngIf="invitation_state.message_error">
          <div class="alert alert-danger" role="alert">{{invitation_state.message_error}}</div>
        </div>
        <div class="form-group" *ngIf="invitation_state.message_success">
          <div class="alert alert-success" role="alert">{{invitation_state.message_success}}</div>
        </div>
        <div class="input-group">
          <input type="text" placeholder="Esempio: 3234565540, john@gmail.com" class="form-control" id="contacts" [(ngModel)]="contacts" [ngModelOptions]="{standalone: true}">
          <span class="input-group-btn">
            <button type="button" id="next" class="btn btn-success" (click)="sendInvitations()">Invia</button>
          </span>
        </div>
      </div>
      <div class="col-lg-5 col-md-5">
        <p><small>Invia il link diretto a un numero di telefono e indirizzo email. Inserisci numeri di telefono e email separando con una virgola.</small></p>
      </div>
    </div>
  </div>
  <div class="footer-box">
    <h5>Privacy del account</h5>
    <h6><small>Le informazioni degli utenti consentono a Starbook di fornire agli utenti stessi l’accesso alle sezioni del Sito cui sono interessati e di fornire il Servizio. Esse mettono inoltre Starbook in grado di fatturare gli importi dovuti e consentono a Starbook o ad un professionista cui l’utente abbia inoltrato un Ordine di contattare l’utente in merito al Servizio.</small></h6>
  </div>
</div>
<div class="profile" *ngIf="page==='card'">
  <div class="header">
    <h1>Inserisci un metodo di pagamento</h1>
    <h6>Per utilizzare al massimo i servizi Starbook inserisci un metodo di pagamento.</h6>
  </div>
  <form>
    <div class="card-form">
      <div class="form-group">
        <label for="numberInput">Numero carta</label>
        <input autocomplete="off" type="text" placeholder="Numero" class="form-control" [ngClass]="{'error-input': card_state.number_error}" id="numberInput" [(ngModel)]="Card.number" [ngModelOptions]="{standalone: true}">
        <small class="error-message" *ngIf="card_state.number_error">{{card_state.number_error}}</small>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="dateInput">Scadenza</label>
            <input autocomplete="off" type="text" placeholder="Scadenza" class="form-control" [ngClass]="{'error-input': card_state.exp_date_error}" id="dateInput" [(ngModel)]="Card.exp_date" (keyup)="checkExpiry(Card.exp_date)" (change)="checkExpiry(Card.exp_date)" [ngModelOptions]="{standalone: true}">
            <small class="error-message" *ngIf="card_state.exp_date_error">{{card_state.exp_date_error}}</small>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="numberInput">CVC/CVV</label>
            <input autocomplete="off" type="text" placeholder="CVC/CVV" class="form-control" [ngClass]="{'error-input': card_state.cvc_error}" id="numberInput" [(ngModel)]="Card.cvc" [ngModelOptions]="{standalone: true}">
            <small class="error-message" *ngIf="card_state.cvc_error">{{card_state.cvc_error}}</small>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="nameInput">Nome e cognome dell'intestatario</label>
        <input type="name" name="name" placeholder="Nome e cognome" class="form-control" id="nameInput" [(ngModel)]="Card.name" [ngModelOptions]="{standalone: true}">
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="form-group">
            <label for="addressInput">Indirizzo</label>
            <input type="address" placeholder="Via" class="form-control" id="addressInput" [(ngModel)]="Card.address_line1" [ngModelOptions]="{standalone: true}">
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label for="addressNumberInput">Nr</label>
            <input type="text" placeholder="Nr" class="form-control" id="addressNumberInput" [(ngModel)]="Card.address_line2" [ngModelOptions]="{standalone: true}">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="form-group">
            <label for="cittyInput">Città</label>
            <input type="text" placeholder="Città" class="form-control" id="cittyInput" [(ngModel)]="Card.address_city" [ngModelOptions]="{standalone: true}">
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label for="capInput">CAP</label>
            <input type="text" placeholder="CAP" class="form-control" id="capInput" [(ngModel)]="Card.address_zip" [ngModelOptions]="{standalone: true}">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="provinceInput">Provincia</label>
            <input type="text" placeholder="Provincia" class="form-control" id="provinceInput" [(ngModel)]="Card.address_state" [ngModelOptions]="{standalone: true}">
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="countryInput">Paese</label>
            <input type="text" placeholder="Paese" class="form-control" id="countryInput" [(ngModel)]="Card.address_country" [ngModelOptions]="{standalone: true}">
          </div>
        </div>
      </div>
      <div class="messages" *ngIf="card_state.message_error">
        <div class="error" *ngIf="card_state.message_error">
          <p><small>{{card_state.message_error}}</small></p>
        </div>
      </div>
      <div class="form-group">
        <a class="btn btn-yellow-green" (click)="addCard()"><i class="fa fa-circle-o-notch animate" *ngIf="card_state.loading"></i>{{card_state.button_title}}</a>
      </div>
    </div>
  </form>
</div> -->
